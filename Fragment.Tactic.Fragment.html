<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Fragment.Tactic.Fragment</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--without-K</a> <a id="25" class="Pragma">--safe</a> <a id="32" class="Symbol">#-}</a>

<a id="37" class="Keyword">module</a> <a id="44" href="Fragment.Tactic.Fragment.html" class="Module">Fragment.Tactic.Fragment</a> <a id="69" class="Keyword">where</a>

<a id="76" class="Keyword">open</a> <a id="81" class="Keyword">import</a> <a id="88" href="Reflection.html" class="Module">Reflection</a> <a id="99" class="Keyword">hiding</a> <a id="106" class="Symbol">(</a><a id="107" href="Agda.Builtin.Reflection.html#3815" class="InductiveConstructor">name</a><a id="111" class="Symbol">;</a> <a id="113" href="Agda.Builtin.Reflection.html#4764" class="Function">Type</a><a id="117" class="Symbol">;</a> <a id="119" href="Reflection.html#6068" class="Function Operator">_≟_</a><a id="122" class="Symbol">)</a>
<a id="124" class="Keyword">open</a> <a id="129" class="Keyword">import</a> <a id="136" href="Reflection.Term.html" class="Module">Reflection.Term</a> <a id="152" class="Keyword">using</a> <a id="158" class="Symbol">(</a><a id="159" href="Reflection.Term.html#3729" class="Function Operator">_≟_</a><a id="162" class="Symbol">)</a>

<a id="165" class="Keyword">open</a> <a id="170" class="Keyword">import</a> <a id="177" href="Level.html" class="Module">Level</a> <a id="183" class="Keyword">using</a> <a id="189" class="Symbol">(</a><a id="190" href="Agda.Primitive.html#636" class="Primitive Operator">_⊔_</a><a id="193" class="Symbol">)</a>
<a id="195" class="Keyword">open</a> <a id="200" class="Keyword">import</a> <a id="207" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="223" class="Keyword">using</a> <a id="229" class="Symbol">(</a><a id="230" href="Relation.Binary.Bundles.html#995" class="Record">Setoid</a><a id="236" class="Symbol">)</a>

<a id="239" class="Keyword">open</a> <a id="244" class="Keyword">import</a> <a id="251" href="Data.Bool.html" class="Module">Data.Bool</a> <a id="261" class="Keyword">using</a> <a id="267" class="Symbol">(</a><a id="268" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a><a id="272" class="Symbol">;</a> <a id="274" href="Data.Bool.Base.html#1044" class="Function Operator">_∨_</a><a id="277" class="Symbol">;</a> <a id="279" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="283" class="Symbol">;</a> <a id="285" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a><a id="290" class="Symbol">;</a> <a id="292" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a><a id="305" class="Symbol">)</a>
<a id="307" class="Keyword">open</a> <a id="312" class="Keyword">import</a> <a id="319" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="328" class="Keyword">using</a> <a id="334" class="Symbol">(</a><a id="335" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="336" class="Symbol">)</a>
<a id="338" class="Keyword">open</a> <a id="343" class="Keyword">import</a> <a id="350" href="Data.List.html" class="Module">Data.List</a> <a id="360" class="Keyword">using</a> <a id="366" class="Symbol">(</a><a id="367" href="Agda.Builtin.List.html#148" class="Datatype">List</a><a id="371" class="Symbol">;</a> <a id="373" href="Data.List.Base.html#9981" class="InductiveConstructor">[]</a><a id="375" class="Symbol">;</a> <a id="377" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="380" class="Symbol">;</a> <a id="382" href="Data.List.Base.html#1497" class="Function">map</a><a id="385" class="Symbol">;</a> <a id="387" href="Data.List.Base.html#4497" class="Function">sum</a><a id="390" class="Symbol">;</a> <a id="392" href="Data.List.Base.html#4577" class="Function">length</a><a id="398" class="Symbol">)</a>
<a id="400" class="Keyword">open</a> <a id="405" class="Keyword">import</a> <a id="412" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="421" class="Keyword">using</a> <a id="427" class="Symbol">(</a><a id="428" href="Data.Vec.Base.html#7501" class="Function">fromList</a><a id="436" class="Symbol">)</a>
<a id="438" class="Keyword">open</a> <a id="443" class="Keyword">import</a> <a id="450" href="Data.Product.html" class="Module">Data.Product</a> <a id="463" class="Keyword">using</a> <a id="469" class="Symbol">(</a><a id="470" href="Data.Product.html#1167" class="Function Operator">_×_</a><a id="473" class="Symbol">;</a> <a id="475" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a><a id="478" class="Symbol">)</a>
<a id="480" class="Keyword">open</a> <a id="485" class="Keyword">import</a> <a id="492" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="502" class="Keyword">using</a> <a id="508" class="Symbol">(</a><a id="509" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a><a id="510" class="Symbol">;</a> <a id="512" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="514" class="Symbol">)</a>
<a id="516" class="Keyword">open</a> <a id="521" class="Keyword">import</a> <a id="528" href="Data.String.html" class="Module">Data.String</a> <a id="540" class="Keyword">using</a> <a id="546" class="Symbol">(</a><a id="547" href="Agda.Builtin.String.html#274" class="Postulate">String</a><a id="553" class="Symbol">;</a> <a id="555" href="Data.String.Base.html#2177" class="Function Operator">_++_</a><a id="559" class="Symbol">)</a>
<a id="561" class="Keyword">open</a> <a id="566" class="Keyword">import</a> <a id="573" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="584" class="Keyword">using</a> <a id="590" class="Symbol">(</a><a id="591" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a><a id="596" class="Symbol">;</a> <a id="598" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a><a id="602" class="Symbol">;</a> <a id="604" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a><a id="611" class="Symbol">)</a>

<a id="614" class="Keyword">open</a> <a id="619" class="Keyword">import</a> <a id="626" href="Fragment.Tactic.Utils.html" class="Module">Fragment.Tactic.Utils</a>

<a id="649" class="Keyword">open</a> <a id="654" class="Keyword">import</a> <a id="661" href="Fragment.Equational.Theory.html" class="Module">Fragment.Equational.Theory</a>
<a id="688" class="Keyword">open</a> <a id="693" class="Keyword">import</a> <a id="700" href="Fragment.Equational.Model.html" class="Module">Fragment.Equational.Model</a>
<a id="726" class="Keyword">open</a> <a id="731" class="Keyword">import</a> <a id="738" href="Fragment.Equational.FreeExtension.html" class="Module">Fragment.Equational.FreeExtension</a> <a id="772" class="Keyword">hiding</a> <a id="779" class="Symbol">(</a><a id="780" href="Fragment.Equational.FreeExtension.Properties.html#3471" class="Function">reduce</a><a id="786" class="Symbol">)</a>
<a id="788" class="Keyword">open</a> <a id="793" class="Keyword">import</a> <a id="800" href="Fragment.Algebra.Signature.html" class="Module">Fragment.Algebra.Signature</a>
<a id="827" class="Keyword">import</a> <a id="834" href="Fragment.Algebra.Free.html" class="Module">Fragment.Algebra.Free</a> <a id="856" class="Symbol">as</a> <a id="859" class="Module">Free</a>

<a id="read-goal"></a><a id="865" href="Fragment.Tactic.Fragment.html#865" class="Function">read-goal</a> <a id="875" class="Symbol">:</a> <a id="877" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="882" class="Symbol">(</a><a id="883" href="Agda.Builtin.Reflection.html#3228" class="Datatype">Arg</a> <a id="887" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a><a id="891" class="Symbol">)</a> <a id="893" class="Symbol">→</a> <a id="895" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="898" class="Symbol">(</a><a id="899" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="904" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="906" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="911" class="Symbol">(</a><a id="912" href="Agda.Builtin.Reflection.html#3228" class="Datatype">Arg</a> <a id="916" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a><a id="920" class="Symbol">))</a>
<a id="923" href="Fragment.Tactic.Fragment.html#865" class="Function">read-goal</a> <a id="933" class="Symbol">(</a><a id="934" href="Reflection.Argument.html#1071" class="InductiveConstructor">vArg</a> <a id="939" href="Fragment.Tactic.Fragment.html#939" class="Bound">x</a> <a id="941" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="943" href="Fragment.Tactic.Fragment.html#943" class="Bound">xs</a><a id="945" class="Symbol">)</a> <a id="947" class="Symbol">=</a> <a id="949" href="Agda.Builtin.Reflection.html#7399" class="Postulate">return</a> <a id="956" class="Symbol">(</a><a id="957" href="Fragment.Tactic.Fragment.html#939" class="Bound">x</a> <a id="959" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="961" href="Fragment.Tactic.Fragment.html#943" class="Bound">xs</a><a id="963" class="Symbol">)</a>
<a id="965" href="Fragment.Tactic.Fragment.html#865" class="CatchallClause Function">read-goal</a><a id="974" class="CatchallClause"> </a><a id="975" class="CatchallClause Symbol">(_</a><a id="977" class="CatchallClause"> </a><a id="978" href="Agda.Builtin.List.html#200" class="CatchallClause InductiveConstructor Operator">∷</a><a id="979" class="CatchallClause"> </a><a id="980" href="Fragment.Tactic.Fragment.html#980" class="CatchallClause Bound">xs</a><a id="982" class="CatchallClause Symbol">)</a>      <a id="989" class="Symbol">=</a> <a id="991" href="Fragment.Tactic.Fragment.html#865" class="Function">read-goal</a> <a id="1001" href="Fragment.Tactic.Fragment.html#980" class="Bound">xs</a>
<a id="1004" href="Fragment.Tactic.Fragment.html#865" class="Function">read-goal</a> <a id="1014" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>            <a id="1028" class="Symbol">=</a> <a id="1030" href="Agda.Builtin.Reflection.html#7569" class="Postulate">typeError</a> <a id="1040" class="Symbol">(</a><a id="1041" href="Agda.Builtin.Reflection.html#7055" class="InductiveConstructor">strErr</a> <a id="1048" class="String">&quot;failed to read goal&quot;</a> <a id="1070" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1072" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1074" class="Symbol">)</a>

<a id="read-goals"></a><a id="1077" href="Fragment.Tactic.Fragment.html#1077" class="Function">read-goals</a> <a id="1088" class="Symbol">:</a> <a id="1090" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1095" class="Symbol">(</a><a id="1096" href="Agda.Builtin.Reflection.html#3228" class="Datatype">Arg</a> <a id="1100" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a><a id="1104" class="Symbol">)</a> <a id="1106" class="Symbol">→</a> <a id="1108" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="1111" class="Symbol">(</a><a id="1112" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="1117" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1119" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a><a id="1123" class="Symbol">)</a>
<a id="1125" href="Fragment.Tactic.Fragment.html#1077" class="Function">read-goals</a> <a id="1136" href="Fragment.Tactic.Fragment.html#1136" class="Bound">xs</a> <a id="1139" class="Symbol">=</a> <a id="1141" class="Keyword">do</a> <a id="1144" class="Symbol">(</a><a id="1145" href="Fragment.Tactic.Fragment.html#1145" class="Bound">fst</a> <a id="1149" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1151" href="Fragment.Tactic.Fragment.html#1151" class="Bound">xs</a><a id="1153" class="Symbol">)</a> <a id="1155" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="1157" href="Fragment.Tactic.Fragment.html#865" class="Function">read-goal</a> <a id="1167" href="Fragment.Tactic.Fragment.html#1136" class="Bound">xs</a>
                   <a id="1189" class="Symbol">(</a><a id="1190" href="Fragment.Tactic.Fragment.html#1190" class="Bound">snd</a> <a id="1194" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1196" class="Symbol">_)</a> <a id="1199" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="1201" href="Fragment.Tactic.Fragment.html#865" class="Function">read-goal</a> <a id="1211" href="Fragment.Tactic.Fragment.html#1151" class="Bound">xs</a>
                   <a id="1233" href="Agda.Builtin.Reflection.html#7399" class="Postulate">return</a> <a id="1240" class="Symbol">(</a><a id="1241" href="Fragment.Tactic.Fragment.html#1145" class="Bound">fst</a> <a id="1245" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1247" href="Fragment.Tactic.Fragment.html#1190" class="Bound">snd</a><a id="1250" class="Symbol">)</a>

<a id="extract-goals"></a><a id="1253" href="Fragment.Tactic.Fragment.html#1253" class="Function">extract-goals</a> <a id="1267" class="Symbol">:</a> <a id="1269" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="1274" class="Symbol">→</a> <a id="1276" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="1279" class="Symbol">(</a><a id="1280" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="1285" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="1287" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a><a id="1291" class="Symbol">)</a>
<a id="1293" href="Fragment.Tactic.Fragment.html#1253" class="Function">extract-goals</a> <a id="1307" class="Symbol">(</a><a id="1308" href="Agda.Builtin.Reflection.html#4795" class="InductiveConstructor">var</a> <a id="1312" class="Symbol">_</a> <a id="1314" href="Fragment.Tactic.Fragment.html#1314" class="Bound">args</a><a id="1318" class="Symbol">)</a>  <a id="1321" class="Symbol">=</a> <a id="1323" href="Fragment.Tactic.Fragment.html#1077" class="Function">read-goals</a> <a id="1334" href="Fragment.Tactic.Fragment.html#1314" class="Bound">args</a>
<a id="1339" href="Fragment.Tactic.Fragment.html#1253" class="Function">extract-goals</a> <a id="1353" class="Symbol">(</a><a id="1354" href="Agda.Builtin.Reflection.html#4851" class="InductiveConstructor">con</a> <a id="1358" class="Symbol">_</a> <a id="1360" href="Fragment.Tactic.Fragment.html#1360" class="Bound">args</a><a id="1364" class="Symbol">)</a>  <a id="1367" class="Symbol">=</a> <a id="1369" href="Fragment.Tactic.Fragment.html#1077" class="Function">read-goals</a> <a id="1380" href="Fragment.Tactic.Fragment.html#1360" class="Bound">args</a>
<a id="1385" href="Fragment.Tactic.Fragment.html#1253" class="Function">extract-goals</a> <a id="1399" class="Symbol">(</a><a id="1400" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="1404" class="Symbol">_</a> <a id="1406" href="Fragment.Tactic.Fragment.html#1406" class="Bound">args</a><a id="1410" class="Symbol">)</a>  <a id="1413" class="Symbol">=</a> <a id="1415" href="Fragment.Tactic.Fragment.html#1077" class="Function">read-goals</a> <a id="1426" href="Fragment.Tactic.Fragment.html#1406" class="Bound">args</a>
<a id="1431" href="Fragment.Tactic.Fragment.html#1253" class="Function">extract-goals</a> <a id="1445" class="Symbol">(</a><a id="1446" href="Agda.Builtin.Reflection.html#5201" class="InductiveConstructor">meta</a> <a id="1451" class="Symbol">_</a> <a id="1453" href="Fragment.Tactic.Fragment.html#1453" class="Bound">args</a><a id="1457" class="Symbol">)</a> <a id="1459" class="Symbol">=</a> <a id="1461" href="Fragment.Tactic.Fragment.html#1077" class="Function">read-goals</a> <a id="1472" href="Fragment.Tactic.Fragment.html#1453" class="Bound">args</a>
<a id="1477" href="Fragment.Tactic.Fragment.html#1253" class="CatchallClause Function">extract-goals</a><a id="1490" class="CatchallClause"> </a><a id="1491" href="Fragment.Tactic.Fragment.html#1491" class="CatchallClause Bound">t</a>             <a id="1505" class="Symbol">=</a>
  <a id="1509" href="Agda.Builtin.Reflection.html#7569" class="Postulate">typeError</a> <a id="1519" class="Symbol">(</a><a id="1520" href="Agda.Builtin.Reflection.html#7055" class="InductiveConstructor">strErr</a> <a id="1527" class="String">&quot;can&#39;t read goals from&quot;</a> <a id="1551" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1553" href="Agda.Builtin.Reflection.html#7086" class="InductiveConstructor">termErr</a> <a id="1561" href="Fragment.Tactic.Fragment.html#1491" class="Bound">t</a> <a id="1563" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1565" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1567" class="Symbol">)</a>

<a id="1570" class="Keyword">record</a> <a id="Operator"></a><a id="1577" href="Fragment.Tactic.Fragment.html#1577" class="Record">Operator</a> <a id="1586" class="Symbol">:</a> <a id="1588" class="PrimitiveType">Set</a> <a id="1592" class="Keyword">where</a>
  <a id="1600" class="Keyword">constructor</a> <a id="operator"></a><a id="1612" href="Fragment.Tactic.Fragment.html#1612" class="InductiveConstructor">operator</a>
  <a id="1623" class="Keyword">field</a>
    <a id="Operator.name"></a><a id="1633" href="Fragment.Tactic.Fragment.html#1633" class="Field">name</a>       <a id="1644" class="Symbol">:</a> <a id="1646" href="Agda.Builtin.Reflection.html#462" class="Postulate">Name</a>
    <a id="Operator.normalised"></a><a id="1655" href="Fragment.Tactic.Fragment.html#1655" class="Field">normalised</a> <a id="1666" class="Symbol">:</a> <a id="1668" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
    <a id="Operator.arity"></a><a id="1677" href="Fragment.Tactic.Fragment.html#1677" class="Field">arity</a>      <a id="1688" class="Symbol">:</a> <a id="1690" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>

<a id="1693" class="Keyword">open</a> <a id="1698" href="Fragment.Tactic.Fragment.html#1577" class="Module">Operator</a>

<a id="1708" class="Keyword">record</a> <a id="CoreCtx"></a><a id="1715" href="Fragment.Tactic.Fragment.html#1715" class="Record">CoreCtx</a> <a id="1723" class="Symbol">:</a> <a id="1725" class="PrimitiveType">Set</a> <a id="1729" class="Keyword">where</a>
  <a id="1737" class="Keyword">field</a>
    <a id="CoreCtx.signature"></a><a id="1747" href="Fragment.Tactic.Fragment.html#1747" class="Field">signature</a> <a id="1757" class="Symbol">:</a> <a id="1759" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
    <a id="CoreCtx.theory"></a><a id="1768" href="Fragment.Tactic.Fragment.html#1768" class="Field">theory</a>    <a id="1778" class="Symbol">:</a> <a id="1780" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
    <a id="CoreCtx.model"></a><a id="1789" href="Fragment.Tactic.Fragment.html#1789" class="Field">model</a>     <a id="1799" class="Symbol">:</a> <a id="1801" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
    <a id="CoreCtx.carrier"></a><a id="1810" href="Fragment.Tactic.Fragment.html#1810" class="Field">carrier</a>   <a id="1820" class="Symbol">:</a> <a id="1822" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
    <a id="CoreCtx.frex"></a><a id="1831" href="Fragment.Tactic.Fragment.html#1831" class="Field">frex</a>      <a id="1841" class="Symbol">:</a> <a id="1843" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>

<a id="1849" class="Keyword">record</a> <a id="GlobalCtx"></a><a id="1856" href="Fragment.Tactic.Fragment.html#1856" class="Record">GlobalCtx</a> <a id="1866" class="Symbol">:</a> <a id="1868" class="PrimitiveType">Set</a> <a id="1872" class="Keyword">where</a>
  <a id="1880" class="Keyword">field</a>
    <a id="GlobalCtx.core"></a><a id="1890" href="Fragment.Tactic.Fragment.html#1890" class="Field">core</a>      <a id="1900" class="Symbol">:</a> <a id="1902" href="Fragment.Tactic.Fragment.html#1715" class="Record">CoreCtx</a>
    <a id="GlobalCtx.operators"></a><a id="1914" href="Fragment.Tactic.Fragment.html#1914" class="Field">operators</a> <a id="1924" class="Symbol">:</a> <a id="1926" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1931" href="Fragment.Tactic.Fragment.html#1577" class="Record">Operator</a>

    <a id="GlobalCtx.telescope"></a><a id="1945" href="Fragment.Tactic.Fragment.html#1945" class="Field">telescope</a> <a id="1955" class="Symbol">:</a> <a id="1957" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1962" class="Symbol">(</a><a id="1963" href="Agda.Builtin.Reflection.html#3228" class="Datatype">Arg</a> <a id="1967" href="Agda.Builtin.String.html#274" class="Postulate">String</a><a id="1973" class="Symbol">)</a>
    <a id="GlobalCtx.lhs"></a><a id="1979" href="Fragment.Tactic.Fragment.html#1979" class="Field">lhs</a>       <a id="1989" class="Symbol">:</a> <a id="1991" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
    <a id="GlobalCtx.rhs"></a><a id="2000" href="Fragment.Tactic.Fragment.html#2000" class="Field">rhs</a>       <a id="2010" class="Symbol">:</a> <a id="2012" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>

  <a id="2020" class="Keyword">open</a> <a id="2025" href="Fragment.Tactic.Fragment.html#1715" class="Module">CoreCtx</a> <a id="2033" href="Fragment.Tactic.Fragment.html#1890" class="Field">core</a> <a id="2038" class="Keyword">public</a>

<a id="2046" class="Keyword">pattern</a> <a id="modelType"></a><a id="2054" href="Fragment.Tactic.Fragment.html#2054" class="InductiveConstructor">modelType</a> <a id="2064" href="Fragment.Tactic.Fragment.html#2096" class="Bound">Θ</a> <a id="2066" href="Fragment.Tactic.Fragment.html#2105" class="Bound">a</a> <a id="2068" href="Fragment.Tactic.Fragment.html#2114" class="Bound">ℓ</a> <a id="2070" class="Symbol">=</a> <a id="2072" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="2076" class="Symbol">(</a><a id="2077" class="Keyword">quote</a> <a id="2083" href="Fragment.Equational.Model.Base.html#818" class="Record">Model</a><a id="2088" class="Symbol">)</a> <a id="2090" class="Symbol">(</a><a id="2091" href="Reflection.Argument.html#1071" class="InductiveConstructor">vArg</a> <a id="2096" href="Fragment.Tactic.Fragment.html#2096" class="Bound">Θ</a> <a id="2098" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2100" href="Reflection.Argument.html#1126" class="InductiveConstructor">hArg</a> <a id="2105" href="Fragment.Tactic.Fragment.html#2105" class="Bound">a</a> <a id="2107" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2109" href="Reflection.Argument.html#1126" class="InductiveConstructor">hArg</a> <a id="2114" href="Fragment.Tactic.Fragment.html#2114" class="Bound">ℓ</a> <a id="2116" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2118" class="InductiveConstructor">[]</a><a id="2120" class="Symbol">)</a>

<a id="ctx"></a><a id="2123" href="Fragment.Tactic.Fragment.html#2123" class="Function">ctx</a> <a id="2127" class="Symbol">:</a> <a id="2129" href="Agda.Builtin.Reflection.html#462" class="Postulate">Name</a> <a id="2134" class="Symbol">→</a> <a id="2136" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="2141" class="Symbol">→</a> <a id="2143" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="2148" class="Symbol">→</a> <a id="2150" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="2153" href="Fragment.Tactic.Fragment.html#1856" class="Record">GlobalCtx</a>
<a id="2163" href="Fragment.Tactic.Fragment.html#2123" class="Function">ctx</a> <a id="2167" href="Fragment.Tactic.Fragment.html#2167" class="Bound">frex</a> <a id="2172" href="Fragment.Tactic.Fragment.html#2172" class="Bound">model</a> <a id="2178" href="Fragment.Tactic.Fragment.html#2178" class="Bound">goal</a>
  <a id="2185" class="Symbol">=</a> <a id="2187" class="Keyword">do</a> <a id="2190" href="Fragment.Tactic.Fragment.html#2190" class="Bound">τ</a> <a id="2192" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="2194" href="Agda.Builtin.Reflection.html#7632" class="Postulate">inferType</a> <a id="2204" href="Fragment.Tactic.Fragment.html#2172" class="Bound">model</a>
       <a id="2217" href="Fragment.Tactic.Fragment.html#2217" class="Bound">γ</a> <a id="2219" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="2221" href="Agda.Builtin.Reflection.html#7632" class="Postulate">inferType</a> <a id="2231" href="Fragment.Tactic.Fragment.html#2178" class="Bound">goal</a>

       <a id="2244" href="Fragment.Tactic.Fragment.html#2244" class="Bound">signature</a> <a id="2254" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="2256" href="Fragment.Tactic.Fragment.html#3308" class="Function">extract-Σ</a> <a id="2266" href="Fragment.Tactic.Fragment.html#2190" class="Bound">τ</a>
       <a id="2275" href="Fragment.Tactic.Fragment.html#2275" class="Bound">theory</a> <a id="2282" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="2284" href="Fragment.Tactic.Fragment.html#3509" class="Function">extract-Θ</a> <a id="2294" href="Fragment.Tactic.Fragment.html#2190" class="Bound">τ</a>
       <a id="2303" href="Fragment.Tactic.Fragment.html#2303" class="Bound">carrier</a> <a id="2311" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="2313" href="Agda.Builtin.Reflection.html#7711" class="Postulate">normalise</a> <a id="2323" class="Symbol">(</a><a id="2324" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="2328" class="Symbol">(</a><a id="2329" class="Keyword">quote</a> <a id="2335" href="Fragment.Algebra.Algebra.html#1080" class="Function Operator">∥_∥</a><a id="2338" class="Symbol">)</a> <a id="2340" class="Symbol">(</a><a id="2341" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="2345" href="Fragment.Tactic.Fragment.html#2275" class="Bound">theory</a> <a id="2352" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2354" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="2358" href="Fragment.Tactic.Fragment.html#2172" class="Bound">model</a> <a id="2364" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2366" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2368" class="Symbol">))</a>

       <a id="2379" class="Keyword">let</a> <a id="2383" href="Fragment.Tactic.Fragment.html#2383" class="Bound">core</a> <a id="2388" class="Symbol">=</a> <a id="2390" class="Keyword">record</a> <a id="2397" class="Symbol">{</a> <a id="2399" href="Fragment.Tactic.Fragment.html#1747" class="Field">signature</a> <a id="2409" class="Symbol">=</a> <a id="2411" href="Fragment.Tactic.Fragment.html#2244" class="Bound">signature</a>
                         <a id="2446" class="Symbol">;</a> <a id="2448" href="Fragment.Tactic.Fragment.html#1768" class="Field">theory</a>    <a id="2458" class="Symbol">=</a> <a id="2460" href="Fragment.Tactic.Fragment.html#2275" class="Bound">theory</a>
                         <a id="2492" class="Symbol">;</a> <a id="2494" href="Fragment.Tactic.Fragment.html#1789" class="Field">model</a>     <a id="2504" class="Symbol">=</a> <a id="2506" href="Fragment.Tactic.Fragment.html#2172" class="Bound">model</a>
                         <a id="2537" class="Symbol">;</a> <a id="2539" href="Fragment.Tactic.Fragment.html#1810" class="Field">carrier</a>   <a id="2549" class="Symbol">=</a> <a id="2551" href="Fragment.Tactic.Fragment.html#2303" class="Bound">carrier</a>
                         <a id="2584" class="Symbol">;</a> <a id="2586" href="Fragment.Tactic.Fragment.html#1831" class="Field">frex</a>      <a id="2596" class="Symbol">=</a> <a id="2598" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="2602" href="Fragment.Tactic.Fragment.html#2167" class="Bound">frex</a> <a id="2607" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
                         <a id="2635" class="Symbol">}</a>

       <a id="2645" href="Fragment.Tactic.Fragment.html#2645" class="Bound">operators</a> <a id="2655" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="2657" href="Fragment.Tactic.Fragment.html#4537" class="Function">extract-ops</a> <a id="2669" href="Fragment.Tactic.Fragment.html#2383" class="Bound">core</a>

       <a id="2682" class="Symbol">(</a><a id="2683" href="Fragment.Tactic.Fragment.html#2683" class="Bound">inner</a> <a id="2689" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2691" href="Fragment.Tactic.Fragment.html#2691" class="Bound">telescope</a><a id="2700" class="Symbol">)</a> <a id="2702" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="2704" href="Fragment.Tactic.Utils.html#4446" class="Function">strip-telescope</a> <a id="2720" href="Fragment.Tactic.Fragment.html#2217" class="Bound">γ</a>
       <a id="2729" class="Symbol">(</a><a id="2730" href="Fragment.Tactic.Fragment.html#2730" class="Bound">lhs</a> <a id="2734" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2736" href="Fragment.Tactic.Fragment.html#2736" class="Bound">rhs</a><a id="2739" class="Symbol">)</a> <a id="2741" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="2743" href="Fragment.Tactic.Fragment.html#1253" class="Function">extract-goals</a> <a id="2757" href="Fragment.Tactic.Fragment.html#2683" class="Bound">inner</a>

       <a id="2771" href="Agda.Builtin.Reflection.html#7399" class="Postulate">return</a> <a id="2778" class="Symbol">(</a><a id="2779" class="Keyword">record</a> <a id="2786" class="Symbol">{</a> <a id="2788" href="Fragment.Tactic.Fragment.html#1890" class="Field">core</a>      <a id="2798" class="Symbol">=</a> <a id="2800" href="Fragment.Tactic.Fragment.html#2383" class="Bound">core</a>
                      <a id="2827" class="Symbol">;</a> <a id="2829" href="Fragment.Tactic.Fragment.html#1914" class="Field">operators</a> <a id="2839" class="Symbol">=</a> <a id="2841" href="Fragment.Tactic.Fragment.html#2645" class="Bound">operators</a>
                      <a id="2873" class="Symbol">;</a> <a id="2875" href="Fragment.Tactic.Fragment.html#1945" class="Field">telescope</a> <a id="2885" class="Symbol">=</a> <a id="2887" href="Fragment.Tactic.Fragment.html#2691" class="Bound">telescope</a>
                      <a id="2919" class="Symbol">;</a> <a id="2921" href="Fragment.Tactic.Fragment.html#1979" class="Field">lhs</a>       <a id="2931" class="Symbol">=</a> <a id="2933" href="Fragment.Tactic.Fragment.html#2730" class="Bound">lhs</a>
                      <a id="2959" class="Symbol">;</a> <a id="2961" href="Fragment.Tactic.Fragment.html#2000" class="Field">rhs</a>       <a id="2971" class="Symbol">=</a> <a id="2973" href="Fragment.Tactic.Fragment.html#2736" class="Bound">rhs</a>
                      <a id="2999" class="Symbol">})</a>

  <a id="3005" class="Keyword">where</a> <a id="3011" href="Fragment.Tactic.Fragment.html#3011" class="Function">modelErr</a> <a id="3020" class="Symbol">:</a> <a id="3022" class="Symbol">∀</a> <a id="3024" class="Symbol">{</a><a id="3025" href="Fragment.Tactic.Fragment.html#3025" class="Bound">a</a><a id="3026" class="Symbol">}</a> <a id="3028" class="Symbol">{</a><a id="3029" href="Fragment.Tactic.Fragment.html#3029" class="Bound">A</a> <a id="3031" class="Symbol">:</a> <a id="3033" class="PrimitiveType">Set</a> <a id="3037" href="Fragment.Tactic.Fragment.html#3025" class="Bound">a</a><a id="3038" class="Symbol">}</a> <a id="3040" class="Symbol">→</a> <a id="3042" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="3047" class="Symbol">→</a> <a id="3049" href="Agda.Builtin.String.html#274" class="Postulate">String</a> <a id="3056" class="Symbol">→</a> <a id="3058" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="3061" href="Fragment.Tactic.Fragment.html#3029" class="Bound">A</a>
        <a id="3071" href="Fragment.Tactic.Fragment.html#3011" class="Function">modelErr</a> <a id="3080" href="Fragment.Tactic.Fragment.html#3080" class="Bound">t</a> <a id="3082" href="Fragment.Tactic.Fragment.html#3082" class="Bound">err</a> <a id="3086" class="Symbol">=</a>
          <a id="3098" href="Agda.Builtin.Reflection.html#7569" class="Postulate">typeError</a> <a id="3108" class="Symbol">(</a> <a id="3110" href="Agda.Builtin.Reflection.html#7086" class="InductiveConstructor">termErr</a> <a id="3118" href="Fragment.Tactic.Fragment.html#3080" class="Bound">t</a>
                    <a id="3140" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3142" href="Agda.Builtin.Reflection.html#7055" class="InductiveConstructor">strErr</a> <a id="3149" class="String">&quot;isn&#39;t a&quot;</a>
                    <a id="3179" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3181" href="Agda.Builtin.Reflection.html#7115" class="InductiveConstructor">nameErr</a> <a id="3189" class="Symbol">(</a><a id="3190" class="Keyword">quote</a> <a id="3196" href="Fragment.Equational.Model.Base.html#818" class="Record">Model</a><a id="3201" class="Symbol">)</a>
                    <a id="3223" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3225" href="Agda.Builtin.Reflection.html#7055" class="InductiveConstructor">strErr</a> <a id="3232" class="Symbol">(</a><a id="3233" class="String">&quot;(&quot;</a> <a id="3237" href="Data.String.Base.html#2177" class="Function Operator">++</a> <a id="3240" href="Fragment.Tactic.Fragment.html#3082" class="Bound">err</a> <a id="3244" href="Data.String.Base.html#2177" class="Function Operator">++</a> <a id="3247" class="String">&quot;)&quot;</a><a id="3250" class="Symbol">)</a>
                    <a id="3272" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3274" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
                    <a id="3297" class="Symbol">)</a>

        <a id="3308" href="Fragment.Tactic.Fragment.html#3308" class="Function">extract-Σ</a> <a id="3318" class="Symbol">:</a> <a id="3320" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="3325" class="Symbol">→</a> <a id="3327" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="3330" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
        <a id="3343" href="Fragment.Tactic.Fragment.html#3308" class="Function">extract-Σ</a> <a id="3353" class="Symbol">(</a><a id="3354" href="Fragment.Tactic.Fragment.html#2054" class="InductiveConstructor">modelType</a> <a id="3364" href="Fragment.Tactic.Fragment.html#3364" class="Bound">Θ</a> <a id="3366" class="Symbol">_</a> <a id="3368" class="Symbol">_)</a> <a id="3371" class="Symbol">=</a> <a id="3373" href="Agda.Builtin.Reflection.html#7711" class="Postulate">normalise</a> <a id="3383" class="Symbol">(</a><a id="3384" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="3388" class="Symbol">(</a><a id="3389" class="Keyword">quote</a> <a id="3395" href="Fragment.Equational.Theory.Base.html#497" class="Field">Theory.Σ</a><a id="3403" class="Symbol">)</a> <a id="3405" class="Symbol">(</a><a id="3406" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="3410" href="Fragment.Tactic.Fragment.html#3364" class="Bound">Θ</a> <a id="3412" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3414" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="3416" class="Symbol">))</a>
        <a id="3427" href="Fragment.Tactic.Fragment.html#3308" class="CatchallClause Function">extract-Σ</a><a id="3436" class="CatchallClause"> </a><a id="3437" href="Fragment.Tactic.Fragment.html#3437" class="CatchallClause Bound">t</a>                 <a id="3455" class="Symbol">=</a> <a id="3457" href="Fragment.Tactic.Fragment.html#3011" class="Function">modelErr</a> <a id="3466" href="Fragment.Tactic.Fragment.html#3437" class="Bound">t</a> <a id="3468" class="String">&quot;when extracting the signature&quot;</a>

        <a id="3509" href="Fragment.Tactic.Fragment.html#3509" class="Function">extract-Θ</a> <a id="3519" class="Symbol">:</a> <a id="3521" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="3526" class="Symbol">→</a> <a id="3528" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="3531" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
        <a id="3544" href="Fragment.Tactic.Fragment.html#3509" class="Function">extract-Θ</a> <a id="3554" class="Symbol">(</a><a id="3555" href="Fragment.Tactic.Fragment.html#2054" class="InductiveConstructor">modelType</a> <a id="3565" href="Fragment.Tactic.Fragment.html#3565" class="Bound">Θ</a> <a id="3567" class="Symbol">_</a> <a id="3569" class="Symbol">_)</a> <a id="3572" class="Symbol">=</a> <a id="3574" href="Agda.Builtin.Reflection.html#7711" class="Postulate">normalise</a> <a id="3584" href="Fragment.Tactic.Fragment.html#3565" class="Bound">Θ</a>
        <a id="3594" href="Fragment.Tactic.Fragment.html#3509" class="CatchallClause Function">extract-Θ</a><a id="3603" class="CatchallClause"> </a><a id="3604" href="Fragment.Tactic.Fragment.html#3604" class="CatchallClause Bound">t</a>                 <a id="3622" class="Symbol">=</a> <a id="3624" href="Fragment.Tactic.Fragment.html#3011" class="Function">modelErr</a> <a id="3633" href="Fragment.Tactic.Fragment.html#3604" class="Bound">t</a> <a id="3635" class="String">&quot;when extracting the theory&quot;</a>

        <a id="3673" href="Fragment.Tactic.Fragment.html#3673" class="Function">extract-arity</a> <a id="3687" class="Symbol">:</a> <a id="3689" href="Fragment.Tactic.Fragment.html#1715" class="Record">CoreCtx</a> <a id="3697" class="Symbol">→</a> <a id="3699" href="Agda.Builtin.Reflection.html#462" class="Postulate">Name</a> <a id="3704" class="Symbol">→</a> <a id="3706" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="3709" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
        <a id="3719" href="Fragment.Tactic.Fragment.html#3673" class="Function">extract-arity</a> <a id="3733" href="Fragment.Tactic.Fragment.html#3733" class="Bound">ctx</a> <a id="3737" href="Fragment.Tactic.Fragment.html#3737" class="Bound">op</a>
          <a id="3750" class="Symbol">=</a> <a id="3752" class="Keyword">do</a> <a id="3755" href="Fragment.Tactic.Fragment.html#3755" class="Bound">τ</a> <a id="3757" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="3759" href="Agda.Builtin.Reflection.html#7632" class="Postulate">inferType</a> <a id="3769" class="Symbol">(</a><a id="3770" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="3774" class="Symbol">(</a><a id="3775" class="Keyword">quote</a> <a id="3781" href="Fragment.Algebra.Algebra.html#1142" class="Function Operator">_⟦_⟧_</a><a id="3786" class="Symbol">)</a>
                                  <a id="3822" class="Symbol">(</a> <a id="3824" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="3828" class="Symbol">(</a><a id="3829" href="Fragment.Tactic.Fragment.html#1768" class="Field">CoreCtx.theory</a> <a id="3844" href="Fragment.Tactic.Fragment.html#3733" class="Bound">ctx</a><a id="3847" class="Symbol">)</a>
                                  <a id="3883" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3885" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="3889" class="Symbol">(</a><a id="3890" href="Fragment.Tactic.Fragment.html#1789" class="Field">CoreCtx.model</a> <a id="3904" href="Fragment.Tactic.Fragment.html#3733" class="Bound">ctx</a><a id="3907" class="Symbol">)</a>
                                  <a id="3943" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3945" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="3949" class="Symbol">(</a><a id="3950" href="Agda.Builtin.Reflection.html#4851" class="InductiveConstructor">con</a> <a id="3954" href="Fragment.Tactic.Fragment.html#3737" class="Bound">op</a> <a id="3957" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="3959" class="Symbol">)</a>
                                  <a id="3995" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3997" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
                                  <a id="4034" class="Symbol">))</a>
               <a id="4052" href="Fragment.Tactic.Fragment.html#4052" class="Bound">α</a> <a id="4054" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="4056" href="Fragment.Tactic.Utils.html#3351" class="Function">extract-type-arg</a> <a id="4073" href="Fragment.Tactic.Fragment.html#3755" class="Bound">τ</a>
               <a id="4090" href="Fragment.Tactic.Utils.html#4200" class="Function">vec-len</a> <a id="4098" href="Fragment.Tactic.Fragment.html#4052" class="Bound">α</a>

        <a id="4109" href="Fragment.Tactic.Fragment.html#4109" class="Function">extract-interp</a> <a id="4124" class="Symbol">:</a> <a id="4126" href="Fragment.Tactic.Fragment.html#1715" class="Record">CoreCtx</a> <a id="4134" class="Symbol">→</a> <a id="4136" href="Agda.Builtin.Reflection.html#462" class="Postulate">Name</a> <a id="4141" class="Symbol">→</a> <a id="4143" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="4145" class="Symbol">→</a> <a id="4147" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="4150" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
        <a id="4163" href="Fragment.Tactic.Fragment.html#4109" class="Function">extract-interp</a> <a id="4178" href="Fragment.Tactic.Fragment.html#4178" class="Bound">ctx</a> <a id="4182" href="Fragment.Tactic.Fragment.html#4182" class="Bound">op</a> <a id="4185" href="Fragment.Tactic.Fragment.html#4185" class="Bound">arity</a>
          <a id="4201" class="Symbol">=</a> <a id="4203" class="Keyword">do</a> <a id="4206" class="Keyword">let</a> <a id="4210" href="Fragment.Tactic.Fragment.html#4210" class="Bound">t</a> <a id="4212" class="Symbol">=</a> <a id="4214" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="4218" class="Symbol">(</a><a id="4219" class="Keyword">quote</a> <a id="4225" href="Fragment.Algebra.Algebra.html#1142" class="Function Operator">_⟦_⟧_</a><a id="4230" class="Symbol">)</a>
                           <a id="4259" class="Symbol">(</a> <a id="4261" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="4265" class="Symbol">(</a><a id="4266" href="Fragment.Tactic.Fragment.html#1768" class="Field">CoreCtx.theory</a> <a id="4281" href="Fragment.Tactic.Fragment.html#4178" class="Bound">ctx</a><a id="4284" class="Symbol">)</a>
                           <a id="4313" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4315" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="4319" class="Symbol">(</a><a id="4320" href="Fragment.Tactic.Fragment.html#1789" class="Field">CoreCtx.model</a> <a id="4334" href="Fragment.Tactic.Fragment.html#4178" class="Bound">ctx</a><a id="4337" class="Symbol">)</a>
                           <a id="4366" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4368" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="4372" class="Symbol">(</a><a id="4373" href="Agda.Builtin.Reflection.html#4851" class="InductiveConstructor">con</a> <a id="4377" href="Fragment.Tactic.Fragment.html#4182" class="Bound">op</a> <a id="4380" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="4382" class="Symbol">)</a>
                           <a id="4411" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4413" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
                           <a id="4443" class="Symbol">)</a>
               <a id="4460" href="Agda.Builtin.Reflection.html#7711" class="Postulate">normalise</a> <a id="4470" class="Symbol">(</a><a id="4471" href="Fragment.Tactic.Utils.html#2740" class="Function">n-ary</a> <a id="4477" href="Fragment.Tactic.Fragment.html#4185" class="Bound">arity</a> <a id="4483" class="Symbol">(</a><a id="4484" href="Fragment.Tactic.Utils.html#1172" class="Function">apply</a> <a id="4490" href="Fragment.Tactic.Fragment.html#4210" class="Bound">t</a> <a id="4492" class="Symbol">(</a><a id="4493" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="4497" class="Symbol">(</a><a id="4498" href="Fragment.Tactic.Utils.html#4063" class="Function">vec</a> <a id="4502" class="Symbol">(</a><a id="4503" href="Fragment.Tactic.Utils.html#2856" class="Function">debrujin</a> <a id="4512" href="Fragment.Tactic.Fragment.html#4185" class="Bound">arity</a><a id="4517" class="Symbol">))</a> <a id="4520" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4522" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="4524" class="Symbol">)))</a>

        <a id="4537" href="Fragment.Tactic.Fragment.html#4537" class="Function">extract-ops</a> <a id="4549" class="Symbol">:</a> <a id="4551" href="Fragment.Tactic.Fragment.html#1715" class="Record">CoreCtx</a> <a id="4559" class="Symbol">→</a> <a id="4561" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="4564" class="Symbol">(</a><a id="4565" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="4570" href="Fragment.Tactic.Fragment.html#1577" class="Record">Operator</a><a id="4578" class="Symbol">)</a>
        <a id="4588" href="Fragment.Tactic.Fragment.html#4537" class="Function">extract-ops</a> <a id="4600" href="Fragment.Tactic.Fragment.html#4600" class="Bound">ctx</a>
          <a id="4614" class="Symbol">=</a> <a id="4616" class="Keyword">do</a> <a id="4619" href="Fragment.Tactic.Fragment.html#4619" class="Bound">ops</a> <a id="4623" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="4625" href="Agda.Builtin.Reflection.html#7711" class="Postulate">normalise</a> <a id="4635" class="Symbol">(</a><a id="4636" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="4640" class="Symbol">(</a><a id="4641" class="Keyword">quote</a> <a id="4647" href="Fragment.Algebra.Signature.html#166" class="Field">ops</a><a id="4650" class="Symbol">)</a> <a id="4652" class="Symbol">(</a><a id="4653" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="4657" class="Symbol">(</a><a id="4658" href="Fragment.Tactic.Fragment.html#1747" class="Field">CoreCtx.signature</a> <a id="4676" href="Fragment.Tactic.Fragment.html#4600" class="Bound">ctx</a><a id="4679" class="Symbol">)</a> <a id="4681" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4683" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="4685" class="Symbol">))</a>
               <a id="4703" href="Fragment.Tactic.Fragment.html#4703" class="Bound">symbols</a> <a id="4711" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="4713" href="Fragment.Tactic.Utils.html#3824" class="Function">extract-constructors</a> <a id="4734" href="Fragment.Tactic.Fragment.html#4619" class="Bound">ops</a>
               <a id="4753" href="Fragment.Tactic.Fragment.html#4753" class="Bound">arities</a> <a id="4761" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="4763" href="Fragment.Tactic.Utils.html#2578" class="Function">listTC</a> <a id="4770" class="Symbol">(</a><a id="4771" href="Data.List.Base.html#1497" class="Function">map</a> <a id="4775" class="Symbol">(</a><a id="4776" href="Fragment.Tactic.Fragment.html#3673" class="Function">extract-arity</a> <a id="4790" href="Fragment.Tactic.Fragment.html#4600" class="Bound">ctx</a><a id="4793" class="Symbol">)</a> <a id="4795" href="Fragment.Tactic.Fragment.html#4703" class="Bound">symbols</a><a id="4802" class="Symbol">)</a>
               <a id="4819" href="Fragment.Tactic.Fragment.html#4819" class="Bound">interps</a> <a id="4827" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="4829" href="Fragment.Tactic.Utils.html#2578" class="Function">listTC</a> <a id="4836" class="Symbol">(</a><a id="4837" href="Fragment.Tactic.Utils.html#1855" class="Function">mapList</a> <a id="4845" class="Symbol">(</a><a id="4846" href="Data.List.Base.html#1497" class="Function">map</a> <a id="4850" class="Symbol">(</a><a id="4851" href="Fragment.Tactic.Fragment.html#4109" class="Function">extract-interp</a> <a id="4866" href="Fragment.Tactic.Fragment.html#4600" class="Bound">ctx</a><a id="4869" class="Symbol">)</a> <a id="4871" href="Fragment.Tactic.Fragment.html#4703" class="Bound">symbols</a><a id="4878" class="Symbol">)</a> <a id="4880" href="Fragment.Tactic.Fragment.html#4753" class="Bound">arities</a><a id="4887" class="Symbol">)</a>
               <a id="4904" href="Agda.Builtin.Reflection.html#7399" class="Postulate">return</a> <a id="4911" class="Symbol">(</a><a id="4912" href="Fragment.Tactic.Utils.html#1855" class="Function">mapList</a> <a id="4920" class="Symbol">(</a><a id="4921" href="Fragment.Tactic.Utils.html#1855" class="Function">mapList</a> <a id="4929" class="Symbol">(</a><a id="4930" href="Data.List.Base.html#1497" class="Function">map</a> <a id="4934" href="Fragment.Tactic.Fragment.html#1612" class="InductiveConstructor">operator</a> <a id="4943" href="Fragment.Tactic.Fragment.html#4703" class="Bound">symbols</a><a id="4950" class="Symbol">)</a> <a id="4952" href="Fragment.Tactic.Fragment.html#4819" class="Bound">interps</a><a id="4959" class="Symbol">)</a> <a id="4961" href="Fragment.Tactic.Fragment.html#4753" class="Bound">arities</a><a id="4968" class="Symbol">)</a>

<a id="4971" class="Keyword">record</a> <a id="FoldCtx"></a><a id="4978" href="Fragment.Tactic.Fragment.html#4978" class="Record">FoldCtx</a> <a id="4986" class="Symbol">{</a><a id="4987" href="Fragment.Tactic.Fragment.html#4987" class="Bound">a</a> <a id="4989" href="Fragment.Tactic.Fragment.html#4989" class="Bound">b</a><a id="4990" class="Symbol">}</a> <a id="4992" class="Symbol">(</a><a id="4993" href="Fragment.Tactic.Fragment.html#4993" class="Bound">A</a> <a id="4995" class="Symbol">:</a> <a id="4997" class="PrimitiveType">Set</a> <a id="5001" href="Fragment.Tactic.Fragment.html#4987" class="Bound">a</a><a id="5002" class="Symbol">)</a> <a id="5004" class="Symbol">(</a><a id="5005" href="Fragment.Tactic.Fragment.html#5005" class="Bound">B</a> <a id="5007" class="Symbol">:</a> <a id="5009" class="PrimitiveType">Set</a> <a id="5013" href="Fragment.Tactic.Fragment.html#4989" class="Bound">b</a><a id="5014" class="Symbol">)</a> <a id="5016" class="Symbol">:</a> <a id="5018" class="PrimitiveType">Set</a> <a id="5022" class="Symbol">(</a><a id="5023" href="Fragment.Tactic.Fragment.html#4987" class="Bound">a</a> <a id="5025" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="5027" href="Fragment.Tactic.Fragment.html#4989" class="Bound">b</a><a id="5028" class="Symbol">)</a> <a id="5030" class="Keyword">where</a>
  <a id="5038" class="Keyword">constructor</a> <a id="foldCtx"></a><a id="5050" href="Fragment.Tactic.Fragment.html#5050" class="InductiveConstructor">foldCtx</a>
  <a id="5060" class="Keyword">field</a>
    <a id="FoldCtx.global"></a><a id="5070" href="Fragment.Tactic.Fragment.html#5070" class="Field">global</a> <a id="5077" class="Symbol">:</a> <a id="5079" href="Fragment.Tactic.Fragment.html#1856" class="Record">GlobalCtx</a>

    <a id="FoldCtx.f"></a><a id="5094" href="Fragment.Tactic.Fragment.html#5094" class="Field">f</a> <a id="5096" class="Symbol">:</a> <a id="5098" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="5103" class="Symbol">→</a> <a id="5105" href="Fragment.Tactic.Fragment.html#5005" class="Bound">B</a> <a id="5107" class="Symbol">→</a> <a id="5109" href="Fragment.Tactic.Fragment.html#4993" class="Bound">A</a> <a id="5111" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="5113" href="Fragment.Tactic.Fragment.html#5005" class="Bound">B</a>
    <a id="FoldCtx.g"></a><a id="5119" href="Fragment.Tactic.Fragment.html#5119" class="Field">g</a> <a id="5121" class="Symbol">:</a> <a id="5123" href="Fragment.Tactic.Fragment.html#1577" class="Record">Operator</a> <a id="5132" class="Symbol">→</a> <a id="5134" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="5139" href="Fragment.Tactic.Fragment.html#4993" class="Bound">A</a> <a id="5141" class="Symbol">→</a> <a id="5143" href="Fragment.Tactic.Fragment.html#4993" class="Bound">A</a>
    <a id="FoldCtx.ε"></a><a id="5149" href="Fragment.Tactic.Fragment.html#5149" class="Field">ε</a> <a id="5151" class="Symbol">:</a> <a id="5153" href="Fragment.Tactic.Fragment.html#5005" class="Bound">B</a>

  <a id="5158" class="Keyword">open</a> <a id="5163" href="Fragment.Tactic.Fragment.html#1856" class="Module">GlobalCtx</a> <a id="5173" href="Fragment.Tactic.Fragment.html#5070" class="Field">global</a> <a id="5180" class="Keyword">public</a>

<a id="5188" class="Keyword">mutual</a>

  <a id="map-fold"></a><a id="5198" href="Fragment.Tactic.Fragment.html#5198" class="Function">map-fold</a> <a id="5207" class="Symbol">:</a> <a id="5209" class="Symbol">∀</a> <a id="5211" class="Symbol">{</a><a id="5212" href="Fragment.Tactic.Fragment.html#5212" class="Bound">a</a> <a id="5214" href="Fragment.Tactic.Fragment.html#5214" class="Bound">b</a><a id="5215" class="Symbol">}</a> <a id="5217" class="Symbol">{</a><a id="5218" href="Fragment.Tactic.Fragment.html#5218" class="Bound">A</a> <a id="5220" class="Symbol">:</a> <a id="5222" class="PrimitiveType">Set</a> <a id="5226" href="Fragment.Tactic.Fragment.html#5212" class="Bound">a</a><a id="5227" class="Symbol">}</a> <a id="5229" class="Symbol">{</a><a id="5230" href="Fragment.Tactic.Fragment.html#5230" class="Bound">B</a> <a id="5232" class="Symbol">:</a> <a id="5234" class="PrimitiveType">Set</a> <a id="5238" href="Fragment.Tactic.Fragment.html#5214" class="Bound">b</a><a id="5239" class="Symbol">}</a>
             <a id="5254" class="Symbol">→</a> <a id="5256" href="Fragment.Tactic.Fragment.html#4978" class="Record">FoldCtx</a> <a id="5264" href="Fragment.Tactic.Fragment.html#5218" class="Bound">A</a> <a id="5266" href="Fragment.Tactic.Fragment.html#5230" class="Bound">B</a> <a id="5268" class="Symbol">→</a> <a id="5270" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="5275" class="Symbol">(</a><a id="5276" href="Agda.Builtin.Reflection.html#3228" class="Datatype">Arg</a> <a id="5280" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a><a id="5284" class="Symbol">)</a> <a id="5286" class="Symbol">→</a> <a id="5288" href="Fragment.Tactic.Fragment.html#5230" class="Bound">B</a> <a id="5290" class="Symbol">→</a> <a id="5292" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="5295" class="Symbol">(</a><a id="5296" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="5301" href="Fragment.Tactic.Fragment.html#5218" class="Bound">A</a> <a id="5303" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="5305" href="Fragment.Tactic.Fragment.html#5230" class="Bound">B</a><a id="5306" class="Symbol">)</a>
  <a id="5310" href="Fragment.Tactic.Fragment.html#5198" class="Function">map-fold</a> <a id="5319" href="Fragment.Tactic.Fragment.html#5319" class="Bound">ctx</a> <a id="5323" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="5326" href="Fragment.Tactic.Fragment.html#5326" class="Bound">acc</a> <a id="5330" class="Symbol">=</a> <a id="5332" href="Agda.Builtin.Reflection.html#7399" class="Postulate">return</a> <a id="5339" class="Symbol">(</a><a id="5340" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="5343" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5345" href="Fragment.Tactic.Fragment.html#5326" class="Bound">acc</a><a id="5348" class="Symbol">)</a>
  <a id="5352" href="Fragment.Tactic.Fragment.html#5198" class="Function">map-fold</a> <a id="5361" href="Fragment.Tactic.Fragment.html#5361" class="Bound">ctx</a> <a id="5365" class="Symbol">(</a><a id="5366" href="Reflection.Argument.html#1071" class="InductiveConstructor">vArg</a> <a id="5371" href="Fragment.Tactic.Fragment.html#5371" class="Bound">x</a> <a id="5373" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5375" href="Fragment.Tactic.Fragment.html#5375" class="Bound">xs</a><a id="5377" class="Symbol">)</a> <a id="5379" href="Fragment.Tactic.Fragment.html#5379" class="Bound">acc</a>
    <a id="5387" class="Symbol">=</a> <a id="5389" class="Keyword">do</a> <a id="5392" class="Symbol">(</a><a id="5393" href="Fragment.Tactic.Fragment.html#5393" class="Bound">x</a> <a id="5395" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5397" href="Fragment.Tactic.Fragment.html#5397" class="Bound">acc</a><a id="5400" class="Symbol">)</a> <a id="5402" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="5404" href="Fragment.Tactic.Fragment.html#6160" class="Function">fold-acc</a> <a id="5413" href="Fragment.Tactic.Fragment.html#5361" class="Bound">ctx</a> <a id="5417" href="Fragment.Tactic.Fragment.html#5371" class="Bound">x</a> <a id="5419" href="Fragment.Tactic.Fragment.html#5379" class="Bound">acc</a>
         <a id="5432" class="Symbol">(</a><a id="5433" href="Fragment.Tactic.Fragment.html#5433" class="Bound">xs</a> <a id="5436" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5438" href="Fragment.Tactic.Fragment.html#5438" class="Bound">acc</a><a id="5441" class="Symbol">)</a> <a id="5443" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="5445" href="Fragment.Tactic.Fragment.html#5198" class="Function">map-fold</a> <a id="5454" href="Fragment.Tactic.Fragment.html#5361" class="Bound">ctx</a> <a id="5458" href="Fragment.Tactic.Fragment.html#5375" class="Bound">xs</a> <a id="5461" href="Fragment.Tactic.Fragment.html#5397" class="Bound">acc</a>
         <a id="5474" href="Agda.Builtin.Reflection.html#7399" class="Postulate">return</a> <a id="5481" class="Symbol">(</a><a id="5482" href="Fragment.Tactic.Fragment.html#5393" class="Bound">x</a> <a id="5484" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5486" href="Fragment.Tactic.Fragment.html#5433" class="Bound">xs</a> <a id="5489" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="5491" href="Fragment.Tactic.Fragment.html#5438" class="Bound">acc</a><a id="5494" class="Symbol">)</a>
  <a id="5498" href="Fragment.Tactic.Fragment.html#5198" class="CatchallClause Function">map-fold</a><a id="5506" class="CatchallClause"> </a><a id="5507" href="Fragment.Tactic.Fragment.html#5507" class="CatchallClause Bound">ctx</a><a id="5510" class="CatchallClause"> </a><a id="5511" class="CatchallClause Symbol">(_</a><a id="5513" class="CatchallClause"> </a><a id="5514" href="Agda.Builtin.List.html#200" class="CatchallClause InductiveConstructor Operator">∷</a><a id="5515" class="CatchallClause"> </a><a id="5516" href="Fragment.Tactic.Fragment.html#5516" class="CatchallClause Bound">xs</a><a id="5518" class="CatchallClause Symbol">)</a><a id="5519" class="CatchallClause"> </a><a id="5520" href="Fragment.Tactic.Fragment.html#5520" class="CatchallClause Bound">acc</a> <a id="5524" class="Symbol">=</a> <a id="5526" href="Fragment.Tactic.Fragment.html#5198" class="Function">map-fold</a> <a id="5535" href="Fragment.Tactic.Fragment.html#5507" class="Bound">ctx</a> <a id="5539" href="Fragment.Tactic.Fragment.html#5516" class="Bound">xs</a> <a id="5542" href="Fragment.Tactic.Fragment.html#5520" class="Bound">acc</a>

  <a id="fold-inner"></a><a id="5549" href="Fragment.Tactic.Fragment.html#5549" class="Function">fold-inner</a> <a id="5560" class="Symbol">:</a> <a id="5562" class="Symbol">∀</a> <a id="5564" class="Symbol">{</a><a id="5565" href="Fragment.Tactic.Fragment.html#5565" class="Bound">a</a> <a id="5567" href="Fragment.Tactic.Fragment.html#5567" class="Bound">b</a><a id="5568" class="Symbol">}</a> <a id="5570" class="Symbol">{</a><a id="5571" href="Fragment.Tactic.Fragment.html#5571" class="Bound">A</a> <a id="5573" class="Symbol">:</a> <a id="5575" class="PrimitiveType">Set</a> <a id="5579" href="Fragment.Tactic.Fragment.html#5565" class="Bound">a</a><a id="5580" class="Symbol">}</a> <a id="5582" class="Symbol">{</a><a id="5583" href="Fragment.Tactic.Fragment.html#5583" class="Bound">B</a> <a id="5585" class="Symbol">:</a> <a id="5587" class="PrimitiveType">Set</a> <a id="5591" href="Fragment.Tactic.Fragment.html#5567" class="Bound">b</a><a id="5592" class="Symbol">}</a>
                <a id="5610" class="Symbol">→</a> <a id="5612" href="Fragment.Tactic.Fragment.html#4978" class="Record">FoldCtx</a> <a id="5620" href="Fragment.Tactic.Fragment.html#5571" class="Bound">A</a> <a id="5622" href="Fragment.Tactic.Fragment.html#5583" class="Bound">B</a> <a id="5624" class="Symbol">→</a> <a id="5626" href="Fragment.Tactic.Fragment.html#1577" class="Record">Operator</a> <a id="5635" class="Symbol">→</a> <a id="5637" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="5642" class="Symbol">→</a> <a id="5644" href="Fragment.Tactic.Fragment.html#5583" class="Bound">B</a> <a id="5646" class="Symbol">→</a> <a id="5648" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="5651" class="Symbol">(</a><a id="5652" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="5657" href="Fragment.Tactic.Fragment.html#5571" class="Bound">A</a> <a id="5659" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="5661" href="Fragment.Tactic.Fragment.html#5583" class="Bound">B</a><a id="5662" class="Symbol">)</a>
  <a id="5666" href="Fragment.Tactic.Fragment.html#5549" class="Function">fold-inner</a> <a id="5677" href="Fragment.Tactic.Fragment.html#5677" class="Bound">ctx</a> <a id="5681" href="Fragment.Tactic.Fragment.html#5681" class="Bound">op</a> <a id="5684" class="Symbol">(</a><a id="5685" href="Agda.Builtin.Reflection.html#4795" class="InductiveConstructor">var</a> <a id="5689" class="Symbol">_</a> <a id="5691" href="Fragment.Tactic.Fragment.html#5691" class="Bound">args</a><a id="5695" class="Symbol">)</a>     <a id="5701" href="Fragment.Tactic.Fragment.html#5701" class="Bound">acc</a> <a id="5705" class="Symbol">=</a> <a id="5707" href="Fragment.Tactic.Fragment.html#5198" class="Function">map-fold</a> <a id="5716" href="Fragment.Tactic.Fragment.html#5677" class="Bound">ctx</a> <a id="5720" class="Symbol">(</a><a id="5721" href="Fragment.Tactic.Utils.html#1578" class="Function">ekat</a> <a id="5726" class="Symbol">(</a><a id="5727" href="Fragment.Tactic.Fragment.html#1677" class="Field">arity</a> <a id="5733" href="Fragment.Tactic.Fragment.html#5681" class="Bound">op</a><a id="5735" class="Symbol">)</a> <a id="5737" href="Fragment.Tactic.Fragment.html#5691" class="Bound">args</a><a id="5741" class="Symbol">)</a> <a id="5743" href="Fragment.Tactic.Fragment.html#5701" class="Bound">acc</a>
  <a id="5749" href="Fragment.Tactic.Fragment.html#5549" class="Function">fold-inner</a> <a id="5760" href="Fragment.Tactic.Fragment.html#5760" class="Bound">ctx</a> <a id="5764" href="Fragment.Tactic.Fragment.html#5764" class="Bound">op</a> <a id="5767" class="Symbol">(</a><a id="5768" href="Agda.Builtin.Reflection.html#4851" class="InductiveConstructor">con</a> <a id="5772" class="Symbol">_</a> <a id="5774" href="Fragment.Tactic.Fragment.html#5774" class="Bound">args</a><a id="5778" class="Symbol">)</a>     <a id="5784" href="Fragment.Tactic.Fragment.html#5784" class="Bound">acc</a> <a id="5788" class="Symbol">=</a> <a id="5790" href="Fragment.Tactic.Fragment.html#5198" class="Function">map-fold</a> <a id="5799" href="Fragment.Tactic.Fragment.html#5760" class="Bound">ctx</a> <a id="5803" class="Symbol">(</a><a id="5804" href="Fragment.Tactic.Utils.html#1578" class="Function">ekat</a> <a id="5809" class="Symbol">(</a><a id="5810" href="Fragment.Tactic.Fragment.html#1677" class="Field">arity</a> <a id="5816" href="Fragment.Tactic.Fragment.html#5764" class="Bound">op</a><a id="5818" class="Symbol">)</a> <a id="5820" href="Fragment.Tactic.Fragment.html#5774" class="Bound">args</a><a id="5824" class="Symbol">)</a> <a id="5826" href="Fragment.Tactic.Fragment.html#5784" class="Bound">acc</a>
  <a id="5832" href="Fragment.Tactic.Fragment.html#5549" class="Function">fold-inner</a> <a id="5843" href="Fragment.Tactic.Fragment.html#5843" class="Bound">ctx</a> <a id="5847" href="Fragment.Tactic.Fragment.html#5847" class="Bound">op</a> <a id="5850" class="Symbol">(</a><a id="5851" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="5855" class="Symbol">_</a> <a id="5857" href="Fragment.Tactic.Fragment.html#5857" class="Bound">args</a><a id="5861" class="Symbol">)</a>     <a id="5867" href="Fragment.Tactic.Fragment.html#5867" class="Bound">acc</a> <a id="5871" class="Symbol">=</a> <a id="5873" href="Fragment.Tactic.Fragment.html#5198" class="Function">map-fold</a> <a id="5882" href="Fragment.Tactic.Fragment.html#5843" class="Bound">ctx</a> <a id="5886" class="Symbol">(</a><a id="5887" href="Fragment.Tactic.Utils.html#1578" class="Function">ekat</a> <a id="5892" class="Symbol">(</a><a id="5893" href="Fragment.Tactic.Fragment.html#1677" class="Field">arity</a> <a id="5899" href="Fragment.Tactic.Fragment.html#5847" class="Bound">op</a><a id="5901" class="Symbol">)</a> <a id="5903" href="Fragment.Tactic.Fragment.html#5857" class="Bound">args</a><a id="5907" class="Symbol">)</a> <a id="5909" href="Fragment.Tactic.Fragment.html#5867" class="Bound">acc</a>
  <a id="5915" href="Fragment.Tactic.Fragment.html#5549" class="Function">fold-inner</a> <a id="5926" href="Fragment.Tactic.Fragment.html#5926" class="Bound">ctx</a> <a id="5930" href="Fragment.Tactic.Fragment.html#5930" class="Bound">op</a> <a id="5933" class="Symbol">(</a><a id="5934" href="Agda.Builtin.Reflection.html#5201" class="InductiveConstructor">meta</a> <a id="5939" class="Symbol">_</a> <a id="5941" href="Fragment.Tactic.Fragment.html#5941" class="Bound">args</a><a id="5945" class="Symbol">)</a>    <a id="5950" href="Fragment.Tactic.Fragment.html#5950" class="Bound">acc</a> <a id="5954" class="Symbol">=</a> <a id="5956" href="Fragment.Tactic.Fragment.html#5198" class="Function">map-fold</a> <a id="5965" href="Fragment.Tactic.Fragment.html#5926" class="Bound">ctx</a> <a id="5969" class="Symbol">(</a><a id="5970" href="Fragment.Tactic.Utils.html#1578" class="Function">ekat</a> <a id="5975" class="Symbol">(</a><a id="5976" href="Fragment.Tactic.Fragment.html#1677" class="Field">arity</a> <a id="5982" href="Fragment.Tactic.Fragment.html#5930" class="Bound">op</a><a id="5984" class="Symbol">)</a> <a id="5986" href="Fragment.Tactic.Fragment.html#5941" class="Bound">args</a><a id="5990" class="Symbol">)</a> <a id="5992" href="Fragment.Tactic.Fragment.html#5950" class="Bound">acc</a>
  <a id="5998" href="Fragment.Tactic.Fragment.html#5549" class="Function">fold-inner</a> <a id="6009" href="Fragment.Tactic.Fragment.html#6009" class="Bound">ctx</a> <a id="6013" href="Fragment.Tactic.Fragment.html#6013" class="Bound">op</a> <a id="6016" class="Symbol">(</a><a id="6017" href="Agda.Builtin.Reflection.html#5018" class="InductiveConstructor">pat-lam</a> <a id="6025" class="Symbol">_</a> <a id="6027" href="Fragment.Tactic.Fragment.html#6027" class="Bound">args</a><a id="6031" class="Symbol">)</a> <a id="6033" href="Fragment.Tactic.Fragment.html#6033" class="Bound">acc</a> <a id="6037" class="Symbol">=</a> <a id="6039" href="Fragment.Tactic.Fragment.html#5198" class="Function">map-fold</a> <a id="6048" href="Fragment.Tactic.Fragment.html#6009" class="Bound">ctx</a> <a id="6052" class="Symbol">(</a><a id="6053" href="Fragment.Tactic.Utils.html#1578" class="Function">ekat</a> <a id="6058" class="Symbol">(</a><a id="6059" href="Fragment.Tactic.Fragment.html#1677" class="Field">arity</a> <a id="6065" href="Fragment.Tactic.Fragment.html#6013" class="Bound">op</a><a id="6067" class="Symbol">)</a> <a id="6069" href="Fragment.Tactic.Fragment.html#6027" class="Bound">args</a><a id="6073" class="Symbol">)</a> <a id="6075" href="Fragment.Tactic.Fragment.html#6033" class="Bound">acc</a>
  <a id="6081" href="Fragment.Tactic.Fragment.html#5549" class="CatchallClause Function">fold-inner</a><a id="6091" class="CatchallClause"> </a><a id="6092" class="CatchallClause Symbol">_</a><a id="6093" class="CatchallClause"> </a><a id="6094" class="CatchallClause Symbol">_</a><a id="6095" class="CatchallClause"> </a><a id="6096" href="Fragment.Tactic.Fragment.html#6096" class="CatchallClause Bound">t</a><a id="6097" class="CatchallClause"> </a><a id="6098" class="CatchallClause Symbol">_</a> <a id="6100" class="Symbol">=</a> <a id="6102" href="Agda.Builtin.Reflection.html#7569" class="Postulate">typeError</a> <a id="6112" class="Symbol">(</a><a id="6113" href="Agda.Builtin.Reflection.html#7086" class="InductiveConstructor">termErr</a> <a id="6121" href="Fragment.Tactic.Fragment.html#6096" class="Bound">t</a> <a id="6123" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6125" href="Agda.Builtin.Reflection.html#7055" class="InductiveConstructor">strErr</a> <a id="6132" class="String">&quot;has no arguments&quot;</a> <a id="6151" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6153" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="6155" class="Symbol">)</a>

  <a id="fold-acc"></a><a id="6160" href="Fragment.Tactic.Fragment.html#6160" class="Function">fold-acc</a> <a id="6169" class="Symbol">:</a> <a id="6171" class="Symbol">∀</a> <a id="6173" class="Symbol">{</a><a id="6174" href="Fragment.Tactic.Fragment.html#6174" class="Bound">a</a> <a id="6176" href="Fragment.Tactic.Fragment.html#6176" class="Bound">b</a><a id="6177" class="Symbol">}</a> <a id="6179" class="Symbol">{</a><a id="6180" href="Fragment.Tactic.Fragment.html#6180" class="Bound">A</a> <a id="6182" class="Symbol">:</a> <a id="6184" class="PrimitiveType">Set</a> <a id="6188" href="Fragment.Tactic.Fragment.html#6174" class="Bound">a</a><a id="6189" class="Symbol">}</a> <a id="6191" class="Symbol">{</a><a id="6192" href="Fragment.Tactic.Fragment.html#6192" class="Bound">B</a> <a id="6194" class="Symbol">:</a> <a id="6196" class="PrimitiveType">Set</a> <a id="6200" href="Fragment.Tactic.Fragment.html#6176" class="Bound">b</a><a id="6201" class="Symbol">}</a> <a id="6203" class="Symbol">→</a> <a id="6205" href="Fragment.Tactic.Fragment.html#4978" class="Record">FoldCtx</a> <a id="6213" href="Fragment.Tactic.Fragment.html#6180" class="Bound">A</a> <a id="6215" href="Fragment.Tactic.Fragment.html#6192" class="Bound">B</a> <a id="6217" class="Symbol">→</a> <a id="6219" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="6224" class="Symbol">→</a> <a id="6226" href="Fragment.Tactic.Fragment.html#6192" class="Bound">B</a> <a id="6228" class="Symbol">→</a> <a id="6230" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="6233" class="Symbol">(</a><a id="6234" href="Fragment.Tactic.Fragment.html#6180" class="Bound">A</a> <a id="6236" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="6238" href="Fragment.Tactic.Fragment.html#6192" class="Bound">B</a><a id="6239" class="Symbol">)</a>
  <a id="6243" href="Fragment.Tactic.Fragment.html#6160" class="Function">fold-acc</a> <a id="6252" href="Fragment.Tactic.Fragment.html#6252" class="Bound">ctx</a> <a id="6256" href="Fragment.Tactic.Fragment.html#6256" class="Bound">t</a> <a id="6258" href="Fragment.Tactic.Fragment.html#6258" class="Bound">acc</a>
    <a id="6266" class="Symbol">=</a> <a id="6268" class="Keyword">do</a> <a id="6271" href="Fragment.Tactic.Fragment.html#6271" class="Bound">op?</a> <a id="6275" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="6277" href="Fragment.Tactic.Utils.html#1668" class="Function">find</a> <a id="6282" class="Symbol">(λ</a> <a id="6285" href="Fragment.Tactic.Fragment.html#6285" class="Bound">x</a> <a id="6287" class="Symbol">→</a> <a id="6289" href="Fragment.Tactic.Utils.html#3195" class="Function">prefix</a> <a id="6296" class="Symbol">(</a><a id="6297" href="Fragment.Tactic.Fragment.html#1677" class="Field">arity</a> <a id="6303" href="Fragment.Tactic.Fragment.html#6285" class="Bound">x</a><a id="6304" class="Symbol">)</a> <a id="6306" class="Symbol">(</a><a id="6307" href="Fragment.Tactic.Fragment.html#1655" class="Field">normalised</a> <a id="6318" href="Fragment.Tactic.Fragment.html#6285" class="Bound">x</a><a id="6319" class="Symbol">)</a> <a id="6321" href="Fragment.Tactic.Fragment.html#6256" class="Bound">t</a><a id="6322" class="Symbol">)</a> <a id="6324" class="Symbol">(</a><a id="6325" href="Fragment.Tactic.Fragment.html#1914" class="Function">FoldCtx.operators</a> <a id="6343" href="Fragment.Tactic.Fragment.html#6252" class="Bound">ctx</a><a id="6346" class="Symbol">)</a>
         <a id="6357" href="Fragment.Tactic.Fragment.html#6379" class="Function">resolve</a> <a id="6365" href="Fragment.Tactic.Fragment.html#6271" class="Bound">op?</a>
    <a id="6373" class="Keyword">where</a> <a id="6379" href="Fragment.Tactic.Fragment.html#6379" class="Function">resolve</a> <a id="6387" class="Symbol">:</a> <a id="6389" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a> <a id="6395" href="Fragment.Tactic.Fragment.html#1577" class="Record">Operator</a> <a id="6404" class="Symbol">→</a> <a id="6406" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="6409" class="Symbol">_</a>
          <a id="6421" href="Fragment.Tactic.Fragment.html#6379" class="Function">resolve</a> <a id="6429" class="Symbol">(</a><a id="6430" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="6435" href="Fragment.Tactic.Fragment.html#6435" class="Bound">op</a><a id="6437" class="Symbol">)</a>
            <a id="6451" class="Symbol">=</a> <a id="6453" class="Keyword">do</a> <a id="6456" class="Symbol">(</a><a id="6457" href="Fragment.Tactic.Fragment.html#6457" class="Bound">args</a> <a id="6462" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6464" href="Fragment.Tactic.Fragment.html#6464" class="Bound">acc</a><a id="6467" class="Symbol">)</a> <a id="6469" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="6471" href="Fragment.Tactic.Fragment.html#5549" class="Function">fold-inner</a> <a id="6482" href="Fragment.Tactic.Fragment.html#6252" class="Bound">ctx</a> <a id="6486" href="Fragment.Tactic.Fragment.html#6435" class="Bound">op</a> <a id="6489" href="Fragment.Tactic.Fragment.html#6256" class="Bound">t</a> <a id="6491" href="Fragment.Tactic.Fragment.html#6258" class="Bound">acc</a>
                 <a id="6512" href="Agda.Builtin.Reflection.html#7399" class="Postulate">return</a> <a id="6519" class="Symbol">((</a><a id="6521" href="Fragment.Tactic.Fragment.html#5119" class="Field">FoldCtx.g</a> <a id="6531" href="Fragment.Tactic.Fragment.html#6252" class="Bound">ctx</a><a id="6534" class="Symbol">)</a> <a id="6536" href="Fragment.Tactic.Fragment.html#6435" class="Bound">op</a> <a id="6539" href="Fragment.Tactic.Fragment.html#6457" class="Bound">args</a> <a id="6544" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6546" href="Fragment.Tactic.Fragment.html#6464" class="Bound">acc</a><a id="6549" class="Symbol">)</a>
          <a id="6561" href="Fragment.Tactic.Fragment.html#6379" class="Function">resolve</a> <a id="6569" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a> <a id="6577" class="Symbol">=</a> <a id="6579" href="Agda.Builtin.Reflection.html#7399" class="Postulate">return</a> <a id="6586" class="Symbol">((</a><a id="6588" href="Fragment.Tactic.Fragment.html#5094" class="Field">FoldCtx.f</a> <a id="6598" href="Fragment.Tactic.Fragment.html#6252" class="Bound">ctx</a><a id="6601" class="Symbol">)</a> <a id="6603" href="Fragment.Tactic.Fragment.html#6256" class="Bound">t</a> <a id="6605" href="Fragment.Tactic.Fragment.html#6258" class="Bound">acc</a><a id="6608" class="Symbol">)</a>

<a id="fold"></a><a id="6611" href="Fragment.Tactic.Fragment.html#6611" class="Function">fold</a> <a id="6616" class="Symbol">:</a> <a id="6618" class="Symbol">∀</a> <a id="6620" class="Symbol">{</a><a id="6621" href="Fragment.Tactic.Fragment.html#6621" class="Bound">a</a> <a id="6623" href="Fragment.Tactic.Fragment.html#6623" class="Bound">b</a><a id="6624" class="Symbol">}</a> <a id="6626" class="Symbol">{</a><a id="6627" href="Fragment.Tactic.Fragment.html#6627" class="Bound">A</a> <a id="6629" class="Symbol">:</a> <a id="6631" class="PrimitiveType">Set</a> <a id="6635" href="Fragment.Tactic.Fragment.html#6621" class="Bound">a</a><a id="6636" class="Symbol">}</a> <a id="6638" class="Symbol">{</a><a id="6639" href="Fragment.Tactic.Fragment.html#6639" class="Bound">B</a> <a id="6641" class="Symbol">:</a> <a id="6643" class="PrimitiveType">Set</a> <a id="6647" href="Fragment.Tactic.Fragment.html#6623" class="Bound">b</a><a id="6648" class="Symbol">}</a> <a id="6650" class="Symbol">→</a> <a id="6652" href="Fragment.Tactic.Fragment.html#4978" class="Record">FoldCtx</a> <a id="6660" href="Fragment.Tactic.Fragment.html#6627" class="Bound">A</a> <a id="6662" href="Fragment.Tactic.Fragment.html#6639" class="Bound">B</a> <a id="6664" class="Symbol">→</a> <a id="6666" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="6671" class="Symbol">→</a> <a id="6673" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="6676" class="Symbol">(</a><a id="6677" href="Fragment.Tactic.Fragment.html#6627" class="Bound">A</a> <a id="6679" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="6681" href="Fragment.Tactic.Fragment.html#6639" class="Bound">B</a><a id="6682" class="Symbol">)</a>
<a id="6684" href="Fragment.Tactic.Fragment.html#6611" class="Function">fold</a> <a id="6689" href="Fragment.Tactic.Fragment.html#6689" class="Bound">ctx</a> <a id="6693" href="Fragment.Tactic.Fragment.html#6693" class="Bound">t</a> <a id="6695" class="Symbol">=</a> <a id="6697" href="Fragment.Tactic.Fragment.html#6160" class="Function">fold-acc</a> <a id="6706" href="Fragment.Tactic.Fragment.html#6689" class="Bound">ctx</a> <a id="6710" href="Fragment.Tactic.Fragment.html#6693" class="Bound">t</a> <a id="6712" class="Symbol">(</a><a id="6713" href="Fragment.Tactic.Fragment.html#5149" class="Field">FoldCtx.ε</a> <a id="6723" href="Fragment.Tactic.Fragment.html#6689" class="Bound">ctx</a><a id="6726" class="Symbol">)</a>

<a id="fold-⊤"></a><a id="6729" href="Fragment.Tactic.Fragment.html#6729" class="Function">fold-⊤</a> <a id="6736" class="Symbol">:</a> <a id="6738" class="Symbol">∀</a> <a id="6740" class="Symbol">{</a><a id="6741" href="Fragment.Tactic.Fragment.html#6741" class="Bound">a</a><a id="6742" class="Symbol">}</a> <a id="6744" class="Symbol">{</a><a id="6745" href="Fragment.Tactic.Fragment.html#6745" class="Bound">A</a> <a id="6747" class="Symbol">:</a> <a id="6749" class="PrimitiveType">Set</a> <a id="6753" href="Fragment.Tactic.Fragment.html#6741" class="Bound">a</a><a id="6754" class="Symbol">}</a> <a id="6756" class="Symbol">→</a> <a id="6758" href="Fragment.Tactic.Fragment.html#1856" class="Record">GlobalCtx</a>
         <a id="6777" class="Symbol">→</a> <a id="6779" class="Symbol">(</a><a id="6780" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="6785" class="Symbol">→</a> <a id="6787" href="Fragment.Tactic.Fragment.html#6745" class="Bound">A</a><a id="6788" class="Symbol">)</a> <a id="6790" class="Symbol">→</a> <a id="6792" class="Symbol">(</a><a id="6793" href="Fragment.Tactic.Fragment.html#1577" class="Record">Operator</a> <a id="6802" class="Symbol">→</a> <a id="6804" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="6809" href="Fragment.Tactic.Fragment.html#6745" class="Bound">A</a> <a id="6811" class="Symbol">→</a> <a id="6813" href="Fragment.Tactic.Fragment.html#6745" class="Bound">A</a><a id="6814" class="Symbol">)</a> <a id="6816" class="Symbol">→</a> <a id="6818" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="6823" class="Symbol">→</a> <a id="6825" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="6828" href="Fragment.Tactic.Fragment.html#6745" class="Bound">A</a>
<a id="6830" href="Fragment.Tactic.Fragment.html#6729" class="Function">fold-⊤</a> <a id="6837" href="Fragment.Tactic.Fragment.html#6837" class="Bound">ctx</a> <a id="6841" href="Fragment.Tactic.Fragment.html#6841" class="Bound">f</a> <a id="6843" href="Fragment.Tactic.Fragment.html#6843" class="Bound">g</a> <a id="6845" href="Fragment.Tactic.Fragment.html#6845" class="Bound">t</a>
  <a id="6849" class="Symbol">=</a> <a id="6851" class="Keyword">do</a> <a id="6854" class="Symbol">(</a><a id="6855" href="Fragment.Tactic.Fragment.html#6855" class="Bound">x</a> <a id="6857" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6859" class="Symbol">_)</a> <a id="6862" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="6864" href="Fragment.Tactic.Fragment.html#6611" class="Function">fold</a> <a id="6869" class="Symbol">(</a><a id="6870" href="Fragment.Tactic.Fragment.html#5050" class="InductiveConstructor">foldCtx</a> <a id="6878" href="Fragment.Tactic.Fragment.html#6837" class="Bound">ctx</a> <a id="6882" class="Symbol">(λ</a> <a id="6885" href="Fragment.Tactic.Fragment.html#6885" class="Bound">x</a> <a id="6887" href="Fragment.Tactic.Fragment.html#6887" class="Bound">_</a> <a id="6889" class="Symbol">→</a> <a id="6891" class="Symbol">(</a><a id="6892" href="Fragment.Tactic.Fragment.html#6841" class="Bound">f</a> <a id="6894" href="Fragment.Tactic.Fragment.html#6885" class="Bound">x</a> <a id="6896" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="6898" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="6900" class="Symbol">))</a> <a id="6903" href="Fragment.Tactic.Fragment.html#6843" class="Bound">g</a> <a id="6905" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="6907" class="Symbol">)</a> <a id="6909" href="Fragment.Tactic.Fragment.html#6845" class="Bound">t</a>
       <a id="6918" href="Agda.Builtin.Reflection.html#7399" class="Postulate">return</a> <a id="6925" href="Fragment.Tactic.Fragment.html#6855" class="Bound">x</a>

<a id="accumulate"></a><a id="6928" href="Fragment.Tactic.Fragment.html#6928" class="Function">accumulate</a> <a id="6939" class="Symbol">:</a> <a id="6941" class="Symbol">∀</a> <a id="6943" class="Symbol">{</a><a id="6944" href="Fragment.Tactic.Fragment.html#6944" class="Bound">a</a><a id="6945" class="Symbol">}</a> <a id="6947" class="Symbol">{</a><a id="6948" href="Fragment.Tactic.Fragment.html#6948" class="Bound">A</a> <a id="6950" class="Symbol">:</a> <a id="6952" class="PrimitiveType">Set</a> <a id="6956" href="Fragment.Tactic.Fragment.html#6944" class="Bound">a</a><a id="6957" class="Symbol">}</a> <a id="6959" class="Symbol">→</a> <a id="6961" href="Fragment.Tactic.Fragment.html#1856" class="Record">GlobalCtx</a>
             <a id="6984" class="Symbol">→</a> <a id="6986" class="Symbol">(</a><a id="6987" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="6992" class="Symbol">→</a> <a id="6994" href="Fragment.Tactic.Fragment.html#6948" class="Bound">A</a> <a id="6996" class="Symbol">→</a> <a id="6998" href="Fragment.Tactic.Fragment.html#6948" class="Bound">A</a><a id="6999" class="Symbol">)</a> <a id="7001" class="Symbol">→</a> <a id="7003" href="Fragment.Tactic.Fragment.html#6948" class="Bound">A</a> <a id="7005" class="Symbol">→</a> <a id="7007" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="7012" class="Symbol">→</a> <a id="7014" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="7017" href="Fragment.Tactic.Fragment.html#6948" class="Bound">A</a>
<a id="7019" href="Fragment.Tactic.Fragment.html#6928" class="Function">accumulate</a> <a id="7030" href="Fragment.Tactic.Fragment.html#7030" class="Bound">ctx</a> <a id="7034" href="Fragment.Tactic.Fragment.html#7034" class="Bound">f</a> <a id="7036" href="Fragment.Tactic.Fragment.html#7036" class="Bound">ε</a> <a id="7038" href="Fragment.Tactic.Fragment.html#7038" class="Bound">t</a>
  <a id="7042" class="Symbol">=</a> <a id="7044" class="Keyword">do</a> <a id="7047" class="Symbol">(_</a> <a id="7050" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7052" href="Fragment.Tactic.Fragment.html#7052" class="Bound">acc</a><a id="7055" class="Symbol">)</a> <a id="7057" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="7059" href="Fragment.Tactic.Fragment.html#6611" class="Function">fold</a> <a id="7064" class="Symbol">(</a><a id="7065" href="Fragment.Tactic.Fragment.html#5050" class="InductiveConstructor">foldCtx</a> <a id="7073" href="Fragment.Tactic.Fragment.html#7030" class="Bound">ctx</a> <a id="7077" class="Symbol">(λ</a> <a id="7080" href="Fragment.Tactic.Fragment.html#7080" class="Bound">x</a> <a id="7082" href="Fragment.Tactic.Fragment.html#7082" class="Bound">acc</a> <a id="7086" class="Symbol">→</a> <a id="7088" class="Symbol">(</a><a id="7089" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a> <a id="7092" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7094" href="Fragment.Tactic.Fragment.html#7034" class="Bound">f</a> <a id="7096" href="Fragment.Tactic.Fragment.html#7080" class="Bound">x</a> <a id="7098" href="Fragment.Tactic.Fragment.html#7082" class="Bound">acc</a><a id="7101" class="Symbol">))</a> <a id="7104" class="Symbol">(λ</a> <a id="7107" href="Fragment.Tactic.Fragment.html#7107" class="Bound">_</a> <a id="7109" href="Fragment.Tactic.Fragment.html#7109" class="Bound">_</a> <a id="7111" class="Symbol">→</a> <a id="7113" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="7115" class="Symbol">)</a> <a id="7117" href="Fragment.Tactic.Fragment.html#7036" class="Bound">ε</a><a id="7118" class="Symbol">)</a> <a id="7120" href="Fragment.Tactic.Fragment.html#7038" class="Bound">t</a>
       <a id="7129" href="Agda.Builtin.Reflection.html#7399" class="Postulate">return</a> <a id="7136" href="Fragment.Tactic.Fragment.html#7052" class="Bound">acc</a>

<a id="leaves"></a><a id="7141" href="Fragment.Tactic.Fragment.html#7141" class="Function">leaves</a> <a id="7148" class="Symbol">:</a> <a id="7150" href="Fragment.Tactic.Fragment.html#1856" class="Record">GlobalCtx</a> <a id="7160" class="Symbol">→</a> <a id="7162" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="7167" class="Symbol">→</a> <a id="7169" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="7172" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="7174" href="Fragment.Tactic.Fragment.html#7141" class="Function">leaves</a> <a id="7181" href="Fragment.Tactic.Fragment.html#7181" class="Bound">ctx</a> <a id="7185" class="Symbol">=</a> <a id="7187" href="Fragment.Tactic.Fragment.html#6729" class="Function">fold-⊤</a> <a id="7194" href="Fragment.Tactic.Fragment.html#7181" class="Bound">ctx</a> <a id="7198" class="Symbol">(λ</a> <a id="7201" href="Fragment.Tactic.Fragment.html#7201" class="Bound">_</a> <a id="7203" class="Symbol">→</a> <a id="7205" class="Number">1</a><a id="7206" class="Symbol">)</a> <a id="7208" class="Symbol">(λ</a> <a id="7211" href="Fragment.Tactic.Fragment.html#7211" class="Bound">_</a> <a id="7213" class="Symbol">→</a> <a id="7215" href="Data.List.Base.html#4497" class="Function">sum</a><a id="7218" class="Symbol">)</a>

<a id="7221" class="Keyword">mutual</a>
  <a id="argsOpen"></a><a id="7230" href="Fragment.Tactic.Fragment.html#7230" class="Function">argsOpen</a> <a id="7239" class="Symbol">:</a> <a id="7241" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="7246" class="Symbol">→</a> <a id="7248" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="7253" class="Symbol">(</a><a id="7254" href="Agda.Builtin.Reflection.html#3228" class="Datatype">Arg</a> <a id="7258" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a><a id="7262" class="Symbol">)</a> <a id="7264" class="Symbol">→</a> <a id="7266" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="7269" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
  <a id="7276" href="Fragment.Tactic.Fragment.html#7230" class="Function">argsOpen</a> <a id="7285" href="Fragment.Tactic.Fragment.html#7285" class="Bound">τ</a> <a id="7287" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="7290" class="Symbol">=</a> <a id="7292" href="Agda.Builtin.Reflection.html#7399" class="Postulate">return</a> <a id="7299" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>
  <a id="7307" href="Fragment.Tactic.Fragment.html#7230" class="Function">argsOpen</a> <a id="7316" href="Fragment.Tactic.Fragment.html#7316" class="Bound">τ</a> <a id="7318" class="Symbol">(</a><a id="7319" href="Reflection.Argument.html#1071" class="InductiveConstructor">vArg</a> <a id="7324" href="Fragment.Tactic.Fragment.html#7324" class="Bound">x</a> <a id="7326" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7328" href="Fragment.Tactic.Fragment.html#7328" class="Bound">xs</a><a id="7330" class="Symbol">)</a>
    <a id="7336" class="Symbol">=</a> <a id="7338" class="Keyword">do</a> <a id="7341" href="Fragment.Tactic.Fragment.html#7341" class="Bound">head</a> <a id="7346" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="7348" href="Fragment.Tactic.Fragment.html#7460" class="Function">isOpen</a> <a id="7355" href="Fragment.Tactic.Fragment.html#7316" class="Bound">τ</a> <a id="7357" href="Fragment.Tactic.Fragment.html#7324" class="Bound">x</a>
         <a id="7368" href="Fragment.Tactic.Fragment.html#7368" class="Bound">tail</a> <a id="7373" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="7375" href="Fragment.Tactic.Fragment.html#7230" class="Function">argsOpen</a> <a id="7384" href="Fragment.Tactic.Fragment.html#7316" class="Bound">τ</a> <a id="7386" href="Fragment.Tactic.Fragment.html#7328" class="Bound">xs</a>
         <a id="7398" href="Agda.Builtin.Reflection.html#7399" class="Postulate">return</a> <a id="7405" class="Symbol">(</a><a id="7406" href="Fragment.Tactic.Fragment.html#7341" class="Bound">head</a> <a id="7411" href="Data.Bool.Base.html#1044" class="Function Operator">∨</a> <a id="7413" href="Fragment.Tactic.Fragment.html#7368" class="Bound">tail</a><a id="7417" class="Symbol">)</a>
  <a id="7421" href="Fragment.Tactic.Fragment.html#7230" class="CatchallClause Function">argsOpen</a><a id="7429" class="CatchallClause"> </a><a id="7430" href="Fragment.Tactic.Fragment.html#7430" class="CatchallClause Bound">τ</a><a id="7431" class="CatchallClause"> </a><a id="7432" class="CatchallClause Symbol">(_</a><a id="7434" class="CatchallClause"> </a><a id="7435" href="Agda.Builtin.List.html#200" class="CatchallClause InductiveConstructor Operator">∷</a><a id="7436" class="CatchallClause"> </a><a id="7437" href="Fragment.Tactic.Fragment.html#7437" class="CatchallClause Bound">xs</a><a id="7439" class="CatchallClause Symbol">)</a> <a id="7441" class="Symbol">=</a> <a id="7443" href="Fragment.Tactic.Fragment.html#7230" class="Function">argsOpen</a> <a id="7452" href="Fragment.Tactic.Fragment.html#7430" class="Bound">τ</a> <a id="7454" href="Fragment.Tactic.Fragment.html#7437" class="Bound">xs</a>

  <a id="isOpen"></a><a id="7460" href="Fragment.Tactic.Fragment.html#7460" class="Function">isOpen</a> <a id="7467" class="Symbol">:</a> <a id="7469" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="7474" class="Symbol">→</a> <a id="7476" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="7481" class="Symbol">→</a> <a id="7483" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="7486" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
  <a id="7493" href="Fragment.Tactic.Fragment.html#7460" class="Function">isOpen</a> <a id="7500" href="Fragment.Tactic.Fragment.html#7500" class="Bound">τ</a> <a id="7502" href="Fragment.Tactic.Fragment.html#7502" class="Bound">t</a><a id="7503" class="Symbol">@(</a><a id="7505" href="Agda.Builtin.Reflection.html#4795" class="InductiveConstructor">var</a> <a id="7509" class="Symbol">_</a> <a id="7511" class="Symbol">_)</a>  <a id="7515" class="Symbol">=</a> <a id="7517" href="Fragment.Tactic.Utils.html#5218" class="Function">hasType</a> <a id="7525" href="Fragment.Tactic.Fragment.html#7500" class="Bound">τ</a> <a id="7527" href="Fragment.Tactic.Fragment.html#7502" class="Bound">t</a>
  <a id="7531" href="Fragment.Tactic.Fragment.html#7460" class="Function">isOpen</a> <a id="7538" href="Fragment.Tactic.Fragment.html#7538" class="Bound">τ</a> <a id="7540" href="Fragment.Tactic.Fragment.html#7540" class="Bound">t</a><a id="7541" class="Symbol">@(</a><a id="7543" href="Agda.Builtin.Reflection.html#5201" class="InductiveConstructor">meta</a> <a id="7548" class="Symbol">_</a> <a id="7550" class="Symbol">_)</a> <a id="7553" class="Symbol">=</a> <a id="7555" href="Fragment.Tactic.Utils.html#5218" class="Function">hasType</a> <a id="7563" href="Fragment.Tactic.Fragment.html#7538" class="Bound">τ</a> <a id="7565" href="Fragment.Tactic.Fragment.html#7540" class="Bound">t</a>
  <a id="7569" href="Fragment.Tactic.Fragment.html#7460" class="Function">isOpen</a> <a id="7576" href="Fragment.Tactic.Fragment.html#7576" class="Bound">τ</a> <a id="7578" class="Symbol">(</a><a id="7579" href="Agda.Builtin.Reflection.html#4851" class="InductiveConstructor">con</a> <a id="7583" href="Fragment.Tactic.Fragment.html#7583" class="Bound">c</a> <a id="7585" href="Fragment.Tactic.Fragment.html#7585" class="Bound">args</a><a id="7589" class="Symbol">)</a> <a id="7591" class="Symbol">=</a> <a id="7593" href="Fragment.Tactic.Fragment.html#7230" class="Function">argsOpen</a> <a id="7602" href="Fragment.Tactic.Fragment.html#7576" class="Bound">τ</a> <a id="7604" href="Fragment.Tactic.Fragment.html#7585" class="Bound">args</a>
  <a id="7611" href="Fragment.Tactic.Fragment.html#7460" class="Function">isOpen</a> <a id="7618" href="Fragment.Tactic.Fragment.html#7618" class="Bound">τ</a> <a id="7620" class="Symbol">(</a><a id="7621" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="7625" href="Fragment.Tactic.Fragment.html#7625" class="Bound">f</a> <a id="7627" href="Fragment.Tactic.Fragment.html#7627" class="Bound">args</a><a id="7631" class="Symbol">)</a> <a id="7633" class="Symbol">=</a> <a id="7635" href="Fragment.Tactic.Fragment.html#7230" class="Function">argsOpen</a> <a id="7644" href="Fragment.Tactic.Fragment.html#7618" class="Bound">τ</a> <a id="7646" href="Fragment.Tactic.Fragment.html#7627" class="Bound">args</a>
  <a id="7653" href="Fragment.Tactic.Fragment.html#7460" class="Function">isOpen</a> <a id="7660" href="Fragment.Tactic.Fragment.html#7660" class="Bound">τ</a> <a id="7662" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">unknown</a>      <a id="7675" class="Symbol">=</a> <a id="7677" href="Agda.Builtin.Reflection.html#7399" class="Postulate">return</a> <a id="7684" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>
  <a id="7691" href="Fragment.Tactic.Fragment.html#7460" class="CatchallClause Function">isOpen</a><a id="7697" class="CatchallClause"> </a><a id="7698" href="Fragment.Tactic.Fragment.html#7698" class="CatchallClause Bound">τ</a><a id="7699" class="CatchallClause"> </a><a id="7700" class="CatchallClause Symbol">_</a>            <a id="7713" class="Symbol">=</a> <a id="7715" href="Agda.Builtin.Reflection.html#7399" class="Postulate">return</a> <a id="7722" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>

<a id="findOpen"></a><a id="7729" href="Fragment.Tactic.Fragment.html#7729" class="Function">findOpen</a> <a id="7738" class="Symbol">:</a> <a id="7740" href="Fragment.Tactic.Fragment.html#1856" class="Record">GlobalCtx</a> <a id="7750" class="Symbol">→</a> <a id="7752" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="7757" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="7762" class="Symbol">→</a> <a id="7764" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="7769" class="Symbol">→</a> <a id="7771" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="7774" class="Symbol">(</a><a id="7775" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="7780" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a><a id="7784" class="Symbol">)</a>
<a id="7786" href="Fragment.Tactic.Fragment.html#7729" class="Function">findOpen</a> <a id="7795" href="Fragment.Tactic.Fragment.html#7795" class="Bound">ctx</a> <a id="7799" href="Fragment.Tactic.Fragment.html#7799" class="Bound">ε</a> <a id="7801" href="Fragment.Tactic.Fragment.html#7801" class="Bound">t</a> <a id="7803" class="Symbol">=</a> <a id="7805" href="Fragment.Tactic.Utils.html#2496" class="Function">flatten</a> <a id="7813" class="Symbol">(</a><a id="7814" href="Fragment.Tactic.Fragment.html#6928" class="Function">accumulate</a> <a id="7825" href="Fragment.Tactic.Fragment.html#7795" class="Bound">ctx</a> <a id="7829" href="Fragment.Tactic.Fragment.html#7859" class="Function">binding</a> <a id="7837" class="Symbol">(</a><a id="7838" href="Agda.Builtin.Reflection.html#7399" class="Postulate">return</a> <a id="7845" href="Fragment.Tactic.Fragment.html#7799" class="Bound">ε</a><a id="7846" class="Symbol">)</a> <a id="7848" href="Fragment.Tactic.Fragment.html#7801" class="Bound">t</a><a id="7849" class="Symbol">)</a>
  <a id="7853" class="Keyword">where</a> <a id="7859" href="Fragment.Tactic.Fragment.html#7859" class="Function">binding</a> <a id="7867" class="Symbol">:</a> <a id="7869" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="7874" class="Symbol">→</a> <a id="7876" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="7879" class="Symbol">(</a><a id="7880" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="7885" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a><a id="7889" class="Symbol">)</a> <a id="7891" class="Symbol">→</a> <a id="7893" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="7896" class="Symbol">(</a><a id="7897" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="7902" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a><a id="7906" class="Symbol">)</a>
        <a id="7916" href="Fragment.Tactic.Fragment.html#7859" class="Function">binding</a> <a id="7924" href="Fragment.Tactic.Fragment.html#7924" class="Bound">t</a> <a id="7926" href="Fragment.Tactic.Fragment.html#7926" class="Bound">env</a>
          <a id="7940" class="Symbol">=</a> <a id="7942" class="Keyword">do</a> <a id="7945" href="Fragment.Tactic.Fragment.html#7945" class="Bound">env</a> <a id="7949" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="7951" href="Fragment.Tactic.Fragment.html#7926" class="Bound">env</a>
               <a id="7970" class="Keyword">let</a> <a id="7974" href="Fragment.Tactic.Fragment.html#7974" class="Bound">τ</a> <a id="7976" class="Symbol">=</a> <a id="7978" href="Fragment.Tactic.Fragment.html#1810" class="Field">CoreCtx.carrier</a> <a id="7994" class="Symbol">(</a><a id="7995" href="Fragment.Tactic.Fragment.html#1890" class="Field">GlobalCtx.core</a> <a id="8010" href="Fragment.Tactic.Fragment.html#7795" class="Bound">ctx</a><a id="8013" class="Symbol">)</a>
               <a id="8030" href="Fragment.Tactic.Fragment.html#8030" class="Bound">open?</a> <a id="8036" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="8038" href="Fragment.Tactic.Fragment.html#7460" class="Function">isOpen</a> <a id="8045" href="Fragment.Tactic.Fragment.html#7974" class="Bound">τ</a> <a id="8047" href="Fragment.Tactic.Fragment.html#7924" class="Bound">t</a>
               <a id="8064" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="8067" href="Fragment.Tactic.Fragment.html#8030" class="Bound">open?</a> <a id="8073" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="8078" href="Agda.Builtin.Reflection.html#7399" class="Postulate">return</a> <a id="8085" class="Symbol">(</a><a id="8086" href="Fragment.Tactic.Utils.html#5374" class="Function">insert</a> <a id="8093" href="Fragment.Tactic.Fragment.html#7945" class="Bound">env</a> <a id="8097" href="Fragment.Tactic.Fragment.html#7924" class="Bound">t</a><a id="8098" class="Symbol">)</a>
                        <a id="8124" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="8129" href="Agda.Builtin.Reflection.html#7399" class="Postulate">return</a> <a id="8136" href="Fragment.Tactic.Fragment.html#7945" class="Bound">env</a>

<a id="buildSyntax"></a><a id="8141" href="Fragment.Tactic.Fragment.html#8141" class="Function">buildSyntax</a> <a id="8153" class="Symbol">:</a> <a id="8155" href="Fragment.Tactic.Fragment.html#1856" class="Record">GlobalCtx</a> <a id="8165" class="Symbol">→</a> <a id="8167" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="8172" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="8177" class="Symbol">→</a> <a id="8179" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="8184" class="Symbol">→</a> <a id="8186" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="8189" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
<a id="8194" href="Fragment.Tactic.Fragment.html#8141" class="Function">buildSyntax</a> <a id="8206" href="Fragment.Tactic.Fragment.html#8206" class="Bound">ctx</a> <a id="8210" href="Fragment.Tactic.Fragment.html#8210" class="Bound">env</a> <a id="8214" href="Fragment.Tactic.Fragment.html#8214" class="Bound">t</a> <a id="8216" class="Symbol">=</a> <a id="8218" href="Fragment.Tactic.Fragment.html#6729" class="Function">fold-⊤</a> <a id="8225" href="Fragment.Tactic.Fragment.html#8206" class="Bound">ctx</a> <a id="8229" href="Fragment.Tactic.Fragment.html#9358" class="Function">buildInj</a> <a id="8238" href="Fragment.Tactic.Fragment.html#9542" class="Function">buildTerm</a> <a id="8248" href="Fragment.Tactic.Fragment.html#8214" class="Bound">t</a>
  <a id="8252" class="Keyword">where</a> <a id="8258" href="Fragment.Tactic.Fragment.html#8258" class="Function">bt</a> <a id="8261" class="Symbol">:</a> <a id="8263" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
        <a id="8276" href="Fragment.Tactic.Fragment.html#8258" class="Function">bt</a> <a id="8279" class="Symbol">=</a> <a id="8281" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="8285" class="Symbol">(</a><a id="8286" class="Keyword">quote</a> <a id="8292" href="Fragment.Algebra.Free.Atoms.html#394" class="Datatype">Free.BT</a><a id="8299" class="Symbol">)</a>
                 <a id="8318" class="Symbol">(</a> <a id="8320" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="8324" class="Symbol">(</a><a id="8325" href="Fragment.Tactic.Fragment.html#1747" class="Function">GlobalCtx.signature</a> <a id="8345" href="Fragment.Tactic.Fragment.html#8206" class="Bound">ctx</a><a id="8348" class="Symbol">)</a>
                 <a id="8367" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8369" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="8373" class="Symbol">(</a><a id="8374" href="Fragment.Tactic.Fragment.html#1810" class="Function">GlobalCtx.carrier</a> <a id="8392" href="Fragment.Tactic.Fragment.html#8206" class="Bound">ctx</a><a id="8395" class="Symbol">)</a>
                 <a id="8414" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8416" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="8420" class="Symbol">(</a><a id="8421" href="Agda.Builtin.Reflection.html#5166" class="InductiveConstructor">lit</a> <a id="8425" class="Symbol">(</a><a id="8426" href="Agda.Builtin.Reflection.html#3645" class="InductiveConstructor">nat</a> <a id="8430" class="Symbol">(</a><a id="8431" href="Data.List.Base.html#4577" class="Function">length</a> <a id="8438" href="Fragment.Tactic.Fragment.html#8210" class="Bound">env</a><a id="8441" class="Symbol">)))</a>
                 <a id="8462" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8464" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
                 <a id="8484" class="Symbol">)</a>

        <a id="8495" href="Fragment.Tactic.Fragment.html#8495" class="Function">buildAtom</a> <a id="8505" class="Symbol">:</a> <a id="8507" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="8512" class="Symbol">→</a> <a id="8514" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
        <a id="8527" href="Fragment.Tactic.Fragment.html#8495" class="Function">buildAtom</a> <a id="8537" href="Fragment.Tactic.Fragment.html#8537" class="Bound">t</a> <a id="8539" class="Symbol">=</a>
          <a id="8551" href="Agda.Builtin.Reflection.html#4851" class="InductiveConstructor">con</a> <a id="8555" class="Symbol">(</a><a id="8556" class="Keyword">quote</a> <a id="8562" href="Fragment.Algebra.Free.Base.html#753" class="InductiveConstructor">Free.Term.atom</a><a id="8576" class="Symbol">)</a>
              <a id="8592" class="Symbol">(</a> <a id="8594" href="Fragment.Tactic.Utils.html#824" class="Function">hra</a> <a id="8598" class="Symbol">(</a><a id="8599" href="Fragment.Tactic.Fragment.html#1747" class="Function">GlobalCtx.signature</a> <a id="8619" href="Fragment.Tactic.Fragment.html#8206" class="Bound">ctx</a><a id="8622" class="Symbol">)</a>
              <a id="8638" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8640" href="Fragment.Tactic.Utils.html#824" class="Function">hra</a> <a id="8644" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">unknown</a>
              <a id="8666" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8668" href="Fragment.Tactic.Utils.html#824" class="Function">hra</a> <a id="8672" href="Fragment.Tactic.Fragment.html#8258" class="Function">bt</a>
              <a id="8689" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8691" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="8695" href="Fragment.Tactic.Fragment.html#8537" class="Bound">t</a>
              <a id="8711" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8713" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
              <a id="8730" class="Symbol">)</a>

        <a id="8741" href="Fragment.Tactic.Fragment.html#8741" class="Function">buildDyn</a> <a id="8750" class="Symbol">:</a> <a id="8752" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="8754" class="Symbol">→</a> <a id="8756" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
        <a id="8769" href="Fragment.Tactic.Fragment.html#8741" class="Function">buildDyn</a> <a id="8778" href="Fragment.Tactic.Fragment.html#8778" class="Bound">n</a> <a id="8780" class="Symbol">=</a>
          <a id="8792" href="Agda.Builtin.Reflection.html#4851" class="InductiveConstructor">con</a> <a id="8796" class="Symbol">(</a><a id="8797" class="Keyword">quote</a> <a id="8803" href="Fragment.Algebra.Free.Atoms.html#442" class="InductiveConstructor">Free.BT.dyn</a><a id="8814" class="Symbol">)</a>
              <a id="8830" class="Symbol">(</a> <a id="8832" href="Fragment.Tactic.Utils.html#824" class="Function">hra</a> <a id="8836" class="Symbol">(</a><a id="8837" href="Fragment.Tactic.Fragment.html#1747" class="Function">GlobalCtx.signature</a> <a id="8857" href="Fragment.Tactic.Fragment.html#8206" class="Bound">ctx</a><a id="8860" class="Symbol">)</a>
              <a id="8876" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8878" href="Fragment.Tactic.Utils.html#824" class="Function">hra</a> <a id="8882" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">unknown</a>
              <a id="8904" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8906" href="Fragment.Tactic.Utils.html#824" class="Function">hra</a> <a id="8910" class="Symbol">(</a><a id="8911" href="Fragment.Tactic.Fragment.html#1810" class="Function">GlobalCtx.carrier</a> <a id="8929" href="Fragment.Tactic.Fragment.html#8206" class="Bound">ctx</a><a id="8932" class="Symbol">)</a>
              <a id="8948" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8950" href="Fragment.Tactic.Utils.html#824" class="Function">hra</a> <a id="8954" class="Symbol">(</a><a id="8955" href="Agda.Builtin.Reflection.html#5166" class="InductiveConstructor">lit</a> <a id="8959" class="Symbol">(</a><a id="8960" href="Agda.Builtin.Reflection.html#3645" class="InductiveConstructor">nat</a> <a id="8964" class="Symbol">(</a><a id="8965" href="Data.List.Base.html#4577" class="Function">length</a> <a id="8972" href="Fragment.Tactic.Fragment.html#8210" class="Bound">env</a><a id="8975" class="Symbol">)))</a>
              <a id="8993" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8995" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="8999" class="Symbol">(</a><a id="9000" href="Fragment.Tactic.Utils.html#3956" class="Function">fin</a> <a id="9004" href="Fragment.Tactic.Fragment.html#8778" class="Bound">n</a><a id="9005" class="Symbol">)</a>
              <a id="9021" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9023" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
              <a id="9040" class="Symbol">)</a>

        <a id="9051" href="Fragment.Tactic.Fragment.html#9051" class="Function">buildSta</a> <a id="9060" class="Symbol">:</a> <a id="9062" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="9067" class="Symbol">→</a> <a id="9069" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
        <a id="9082" href="Fragment.Tactic.Fragment.html#9051" class="Function">buildSta</a> <a id="9091" href="Fragment.Tactic.Fragment.html#9091" class="Bound">t</a> <a id="9093" class="Symbol">=</a>
          <a id="9105" href="Agda.Builtin.Reflection.html#4851" class="InductiveConstructor">con</a> <a id="9109" class="Symbol">(</a><a id="9110" class="Keyword">quote</a> <a id="9116" href="Fragment.Algebra.Free.Atoms.html#423" class="InductiveConstructor">Free.BT.sta</a><a id="9127" class="Symbol">)</a>
              <a id="9143" class="Symbol">(</a> <a id="9145" href="Fragment.Tactic.Utils.html#824" class="Function">hra</a> <a id="9149" class="Symbol">(</a><a id="9150" href="Fragment.Tactic.Fragment.html#1747" class="Function">GlobalCtx.signature</a> <a id="9170" href="Fragment.Tactic.Fragment.html#8206" class="Bound">ctx</a><a id="9173" class="Symbol">)</a>
              <a id="9189" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9191" href="Fragment.Tactic.Utils.html#824" class="Function">hra</a> <a id="9195" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">unknown</a>
              <a id="9217" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9219" href="Fragment.Tactic.Utils.html#824" class="Function">hra</a> <a id="9223" class="Symbol">(</a><a id="9224" href="Fragment.Tactic.Fragment.html#1810" class="Function">GlobalCtx.carrier</a> <a id="9242" href="Fragment.Tactic.Fragment.html#8206" class="Bound">ctx</a><a id="9245" class="Symbol">)</a>
              <a id="9261" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9263" href="Fragment.Tactic.Utils.html#824" class="Function">hra</a> <a id="9267" class="Symbol">(</a><a id="9268" href="Agda.Builtin.Reflection.html#5166" class="InductiveConstructor">lit</a> <a id="9272" class="Symbol">(</a><a id="9273" href="Agda.Builtin.Reflection.html#3645" class="InductiveConstructor">nat</a> <a id="9277" class="Symbol">(</a><a id="9278" href="Data.List.Base.html#4577" class="Function">length</a> <a id="9285" href="Fragment.Tactic.Fragment.html#8210" class="Bound">env</a><a id="9288" class="Symbol">)))</a>
              <a id="9306" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9308" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="9312" href="Fragment.Tactic.Fragment.html#9091" class="Bound">t</a>
              <a id="9328" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9330" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
              <a id="9347" class="Symbol">)</a>

        <a id="9358" href="Fragment.Tactic.Fragment.html#9358" class="Function">buildInj</a> <a id="9367" class="Symbol">:</a> <a id="9369" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="9374" class="Symbol">→</a> <a id="9376" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
        <a id="9389" href="Fragment.Tactic.Fragment.html#9358" class="Function">buildInj</a> <a id="9398" href="Fragment.Tactic.Fragment.html#9398" class="Bound">t</a> <a id="9400" class="Keyword">with</a> <a id="9405" href="Fragment.Tactic.Utils.html#5554" class="Function">indexOf</a> <a id="9413" href="Fragment.Tactic.Fragment.html#8210" class="Bound">env</a> <a id="9417" href="Fragment.Tactic.Fragment.html#9398" class="Bound">t</a>
        <a id="9427" class="Symbol">...</a>           <a id="9441" class="Symbol">|</a> <a id="9443" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a> <a id="9448" href="Fragment.Tactic.Fragment.html#9448" class="Bound">n</a>  <a id="9451" class="Symbol">=</a> <a id="9453" href="Fragment.Tactic.Fragment.html#8495" class="Function">buildAtom</a> <a id="9463" class="Symbol">(</a><a id="9464" href="Fragment.Tactic.Fragment.html#8741" class="Function">buildDyn</a> <a id="9473" href="Fragment.Tactic.Fragment.html#9448" class="Bound">n</a><a id="9474" class="Symbol">)</a>
        <a id="9484" class="Symbol">...</a>           <a id="9498" class="Symbol">|</a> <a id="9500" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a> <a id="9508" class="Symbol">=</a> <a id="9510" href="Fragment.Tactic.Fragment.html#8495" class="Function">buildAtom</a> <a id="9520" class="Symbol">(</a><a id="9521" href="Fragment.Tactic.Fragment.html#9051" class="Function">buildSta</a> <a id="9530" class="Bound">t</a><a id="9531" class="Symbol">)</a>

        <a id="9542" href="Fragment.Tactic.Fragment.html#9542" class="Function">buildTerm</a> <a id="9552" class="Symbol">:</a> <a id="9554" href="Fragment.Tactic.Fragment.html#1577" class="Record">Operator</a> <a id="9563" class="Symbol">→</a> <a id="9565" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="9570" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="9575" class="Symbol">→</a> <a id="9577" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
        <a id="9590" href="Fragment.Tactic.Fragment.html#9542" class="Function">buildTerm</a> <a id="9600" href="Fragment.Tactic.Fragment.html#9600" class="Bound">op</a> <a id="9603" href="Fragment.Tactic.Fragment.html#9603" class="Bound">xs</a> <a id="9606" class="Symbol">=</a>
          <a id="9618" href="Agda.Builtin.Reflection.html#4851" class="InductiveConstructor">con</a> <a id="9622" class="Symbol">(</a><a id="9623" class="Keyword">quote</a> <a id="9629" href="Fragment.Algebra.Free.Base.html#773" class="InductiveConstructor">Free.Term.term</a><a id="9643" class="Symbol">)</a>
               <a id="9660" class="Symbol">(</a> <a id="9662" href="Fragment.Tactic.Utils.html#824" class="Function">hra</a> <a id="9666" class="Symbol">(</a><a id="9667" href="Fragment.Tactic.Fragment.html#1747" class="Function">GlobalCtx.signature</a> <a id="9687" href="Fragment.Tactic.Fragment.html#8206" class="Bound">ctx</a><a id="9690" class="Symbol">)</a>
               <a id="9707" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9709" href="Fragment.Tactic.Utils.html#824" class="Function">hra</a> <a id="9713" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">unknown</a>
               <a id="9736" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9738" href="Fragment.Tactic.Utils.html#824" class="Function">hra</a> <a id="9742" href="Fragment.Tactic.Fragment.html#8258" class="Function">bt</a>
               <a id="9760" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9762" href="Fragment.Tactic.Utils.html#824" class="Function">hra</a> <a id="9766" class="Symbol">(</a><a id="9767" href="Agda.Builtin.Reflection.html#5166" class="InductiveConstructor">lit</a> <a id="9771" class="Symbol">(</a><a id="9772" href="Agda.Builtin.Reflection.html#3645" class="InductiveConstructor">nat</a> <a id="9776" class="Symbol">(</a><a id="9777" href="Fragment.Tactic.Fragment.html#1677" class="Field">arity</a> <a id="9783" href="Fragment.Tactic.Fragment.html#9600" class="Bound">op</a><a id="9785" class="Symbol">)))</a>
               <a id="9804" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9806" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="9810" class="Symbol">(</a><a id="9811" href="Agda.Builtin.Reflection.html#4851" class="InductiveConstructor">con</a> <a id="9815" class="Symbol">(</a><a id="9816" href="Fragment.Tactic.Fragment.html#1633" class="Field">name</a> <a id="9821" href="Fragment.Tactic.Fragment.html#9600" class="Bound">op</a><a id="9823" class="Symbol">)</a> <a id="9825" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="9827" class="Symbol">)</a>
               <a id="9844" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9846" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="9850" class="Symbol">(</a><a id="9851" href="Fragment.Tactic.Utils.html#4063" class="Function">vec</a> <a id="9855" class="Symbol">(</a><a id="9856" href="Data.Vec.Base.html#7501" class="Function">fromList</a> <a id="9865" href="Fragment.Tactic.Fragment.html#9603" class="Bound">xs</a><a id="9867" class="Symbol">))</a>
               <a id="9885" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9887" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
               <a id="9905" class="Symbol">)</a>

<a id="environment"></a><a id="9908" href="Fragment.Tactic.Fragment.html#9908" class="Function">environment</a> <a id="9920" class="Symbol">:</a> <a id="9922" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="9927" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="9932" class="Symbol">→</a> <a id="9934" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a>
<a id="9939" href="Fragment.Tactic.Fragment.html#9908" class="Function">environment</a> <a id="9951" href="Fragment.Tactic.Fragment.html#9951" class="Bound">env</a> <a id="9955" class="Symbol">=</a> <a id="9957" href="Fragment.Tactic.Utils.html#4063" class="Function">vec</a> <a id="9961" class="Symbol">(</a><a id="9962" href="Data.Vec.Base.html#7501" class="Function">fromList</a> <a id="9971" href="Fragment.Tactic.Fragment.html#9951" class="Bound">env</a><a id="9974" class="Symbol">)</a>

<a id="9977" class="Keyword">macro</a>
  <a id="fragment"></a><a id="9985" href="Fragment.Tactic.Fragment.html#9985" class="Function">fragment</a> <a id="9994" class="Symbol">:</a> <a id="9996" href="Agda.Builtin.Reflection.html#462" class="Postulate">Name</a> <a id="10001" class="Symbol">→</a> <a id="10003" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="10008" class="Symbol">→</a> <a id="10010" href="Agda.Builtin.Reflection.html#4751" class="Datatype">Term</a> <a id="10015" class="Symbol">→</a> <a id="10017" href="Agda.Builtin.Reflection.html#7356" class="Postulate">TC</a> <a id="10020" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="10024" href="Fragment.Tactic.Fragment.html#9985" class="Function">fragment</a> <a id="10033" href="Fragment.Tactic.Fragment.html#10033" class="Bound">frex</a> <a id="10038" href="Fragment.Tactic.Fragment.html#10038" class="Bound">model</a> <a id="10044" href="Fragment.Tactic.Fragment.html#10044" class="Bound">goal</a>
    <a id="10053" class="Symbol">=</a> <a id="10055" class="Keyword">do</a> <a id="10058" href="Fragment.Tactic.Fragment.html#10058" class="Bound">ctx</a> <a id="10062" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="10064" href="Fragment.Tactic.Fragment.html#2123" class="Function">ctx</a> <a id="10068" href="Fragment.Tactic.Fragment.html#10033" class="Bound">frex</a> <a id="10073" href="Fragment.Tactic.Fragment.html#10038" class="Bound">model</a> <a id="10079" href="Fragment.Tactic.Fragment.html#10044" class="Bound">goal</a>
         <a id="10093" href="Fragment.Tactic.Fragment.html#10093" class="Bound">env</a> <a id="10097" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="10099" href="Fragment.Tactic.Fragment.html#7729" class="Function">findOpen</a> <a id="10108" href="Fragment.Tactic.Fragment.html#10058" class="Bound">ctx</a> <a id="10112" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="10115" class="Symbol">(</a><a id="10116" href="Fragment.Tactic.Fragment.html#1979" class="Field">GlobalCtx.lhs</a> <a id="10130" href="Fragment.Tactic.Fragment.html#10058" class="Bound">ctx</a><a id="10133" class="Symbol">)</a>
         <a id="10144" href="Fragment.Tactic.Fragment.html#10144" class="Bound">env</a> <a id="10148" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="10150" href="Fragment.Tactic.Fragment.html#7729" class="Function">findOpen</a> <a id="10159" href="Fragment.Tactic.Fragment.html#10058" class="Bound">ctx</a> <a id="10163" href="Fragment.Tactic.Fragment.html#10093" class="Bound">env</a> <a id="10167" class="Symbol">(</a><a id="10168" href="Fragment.Tactic.Fragment.html#2000" class="Field">GlobalCtx.rhs</a> <a id="10182" href="Fragment.Tactic.Fragment.html#10058" class="Bound">ctx</a><a id="10185" class="Symbol">)</a>
         <a id="10196" href="Fragment.Tactic.Fragment.html#10196" class="Bound">lhs</a> <a id="10200" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="10202" href="Fragment.Tactic.Fragment.html#8141" class="Function">buildSyntax</a> <a id="10214" href="Fragment.Tactic.Fragment.html#10058" class="Bound">ctx</a> <a id="10218" href="Fragment.Tactic.Fragment.html#10144" class="Bound">env</a> <a id="10222" class="Symbol">(</a><a id="10223" href="Fragment.Tactic.Fragment.html#1979" class="Field">GlobalCtx.lhs</a> <a id="10237" href="Fragment.Tactic.Fragment.html#10058" class="Bound">ctx</a><a id="10240" class="Symbol">)</a>
         <a id="10251" href="Fragment.Tactic.Fragment.html#10251" class="Bound">rhs</a> <a id="10255" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="10257" href="Fragment.Tactic.Fragment.html#8141" class="Function">buildSyntax</a> <a id="10269" href="Fragment.Tactic.Fragment.html#10058" class="Bound">ctx</a> <a id="10273" href="Fragment.Tactic.Fragment.html#10144" class="Bound">env</a> <a id="10277" class="Symbol">(</a><a id="10278" href="Fragment.Tactic.Fragment.html#2000" class="Field">GlobalCtx.rhs</a> <a id="10292" href="Fragment.Tactic.Fragment.html#10058" class="Bound">ctx</a><a id="10295" class="Symbol">)</a>
         <a id="10306" class="Keyword">let</a> <a id="10310" href="Fragment.Tactic.Fragment.html#10310" class="Bound">n</a> <a id="10312" class="Symbol">=</a> <a id="10314" href="Data.List.Base.html#4577" class="Function">length</a> <a id="10321" href="Fragment.Tactic.Fragment.html#10144" class="Bound">env</a>
         <a id="10334" class="Keyword">let</a> <a id="10338" href="Fragment.Tactic.Fragment.html#10338" class="Bound">frex</a> <a id="10343" class="Symbol">=</a> <a id="10345" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="10349" class="Symbol">(</a><a id="10350" class="Keyword">quote</a> <a id="10356" href="Fragment.Equational.FreeExtension.Base.html#608" class="Field Operator">FreeExtension._[_]</a><a id="10374" class="Symbol">)</a>
                        <a id="10400" class="Symbol">(</a> <a id="10402" href="Fragment.Tactic.Utils.html#824" class="Function">hra</a> <a id="10406" class="Symbol">(</a><a id="10407" href="Fragment.Tactic.Fragment.html#1768" class="Function">GlobalCtx.theory</a> <a id="10424" href="Fragment.Tactic.Fragment.html#10058" class="Bound">ctx</a><a id="10427" class="Symbol">)</a>
                        <a id="10453" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10455" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="10459" class="Symbol">(</a><a id="10460" href="Fragment.Tactic.Fragment.html#1831" class="Function">GlobalCtx.frex</a> <a id="10475" href="Fragment.Tactic.Fragment.html#10058" class="Bound">ctx</a><a id="10478" class="Symbol">)</a>
                        <a id="10504" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10506" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="10510" class="Symbol">(</a><a id="10511" href="Fragment.Tactic.Fragment.html#1789" class="Function">GlobalCtx.model</a> <a id="10527" href="Fragment.Tactic.Fragment.html#10058" class="Bound">ctx</a><a id="10530" class="Symbol">)</a>
                        <a id="10556" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10558" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="10562" class="Symbol">(</a><a id="10563" href="Agda.Builtin.Reflection.html#5166" class="InductiveConstructor">lit</a> <a id="10567" class="Symbol">(</a><a id="10568" href="Agda.Builtin.Reflection.html#3645" class="InductiveConstructor">nat</a> <a id="10572" href="Fragment.Tactic.Fragment.html#10310" class="Bound">n</a><a id="10573" class="Symbol">))</a>
                        <a id="10600" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10602" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
                        <a id="10629" class="Symbol">)</a>
         <a id="10640" class="Keyword">let</a> <a id="10644" href="Fragment.Tactic.Fragment.html#10644" class="Bound">setoid</a> <a id="10651" class="Symbol">=</a> <a id="10653" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="10657" class="Symbol">(</a><a id="10658" class="Keyword">quote</a> <a id="10664" href="Fragment.Equational.Model.Base.html#864" class="Field Operator">∥_∥/≈</a><a id="10669" class="Symbol">)</a>
                          <a id="10697" class="Symbol">(</a> <a id="10699" href="Fragment.Tactic.Utils.html#824" class="Function">hra</a> <a id="10703" class="Symbol">(</a><a id="10704" href="Fragment.Tactic.Fragment.html#1768" class="Function">GlobalCtx.theory</a> <a id="10721" href="Fragment.Tactic.Fragment.html#10058" class="Bound">ctx</a><a id="10724" class="Symbol">)</a>
                          <a id="10752" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10754" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="10758" href="Fragment.Tactic.Fragment.html#10338" class="Bound">frex</a>
                          <a id="10789" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10791" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
                          <a id="10820" class="Symbol">)</a>
         <a id="10831" class="Keyword">let</a> <a id="10835" href="Fragment.Tactic.Fragment.html#10835" class="Bound">p</a> <a id="10837" class="Symbol">=</a> <a id="10839" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="10843" class="Symbol">(</a><a id="10844" class="Keyword">quote</a> <a id="10850" href="Relation.Binary.Structures.html#1568" class="Function">Setoid.refl</a><a id="10861" class="Symbol">)</a> <a id="10863" class="Symbol">(</a><a id="10864" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="10868" href="Fragment.Tactic.Fragment.html#10644" class="Bound">setoid</a> <a id="10875" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10877" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="10879" class="Symbol">)</a>
         <a id="10890" class="Keyword">let</a> <a id="10894" href="Fragment.Tactic.Fragment.html#10894" class="Bound">frexify</a> <a id="10902" class="Symbol">=</a> <a id="10904" href="Agda.Builtin.Reflection.html#4908" class="InductiveConstructor">def</a> <a id="10908" class="Symbol">(</a><a id="10909" class="Keyword">quote</a> <a id="10915" href="Fragment.Equational.FreeExtension.Properties.html#3667" class="Function">frexify</a><a id="10922" class="Symbol">)</a>
                           <a id="10951" class="Symbol">(</a> <a id="10953" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="10957" class="Symbol">(</a><a id="10958" href="Fragment.Tactic.Fragment.html#1768" class="Function">GlobalCtx.theory</a> <a id="10975" href="Fragment.Tactic.Fragment.html#10058" class="Bound">ctx</a><a id="10978" class="Symbol">)</a>
                           <a id="11007" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11009" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="11013" class="Symbol">(</a><a id="11014" href="Fragment.Tactic.Fragment.html#1831" class="Function">GlobalCtx.frex</a> <a id="11029" href="Fragment.Tactic.Fragment.html#10058" class="Bound">ctx</a><a id="11032" class="Symbol">)</a>
                           <a id="11061" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11063" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="11067" class="Symbol">(</a><a id="11068" href="Fragment.Tactic.Fragment.html#1789" class="Function">GlobalCtx.model</a> <a id="11084" href="Fragment.Tactic.Fragment.html#10058" class="Bound">ctx</a><a id="11087" class="Symbol">)</a>
                           <a id="11116" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11118" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="11122" class="Symbol">(</a><a id="11123" href="Fragment.Tactic.Utils.html#4063" class="Function">vec</a> <a id="11127" class="Symbol">(</a><a id="11128" href="Data.Vec.Base.html#7501" class="Function">fromList</a> <a id="11137" href="Fragment.Tactic.Fragment.html#10144" class="Bound">env</a><a id="11140" class="Symbol">))</a>
                           <a id="11170" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11172" href="Fragment.Tactic.Utils.html#824" class="Function">hra</a> <a id="11176" href="Fragment.Tactic.Fragment.html#10196" class="Bound">lhs</a>
                           <a id="11207" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11209" href="Fragment.Tactic.Utils.html#824" class="Function">hra</a> <a id="11213" href="Fragment.Tactic.Fragment.html#10251" class="Bound">rhs</a>
                           <a id="11244" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11246" href="Fragment.Tactic.Utils.html#749" class="Function">vra</a> <a id="11250" href="Fragment.Tactic.Fragment.html#10835" class="Bound">p</a>
                           <a id="11279" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11281" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
                           <a id="11311" class="Symbol">)</a>
         <a id="11322" href="Fragment.Tactic.Fragment.html#11322" class="Bound">frexify</a> <a id="11330" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="11332" href="Fragment.Tactic.Utils.html#4850" class="Function">restore-telescope</a> <a id="11350" class="Symbol">(</a><a id="11351" href="Fragment.Tactic.Fragment.html#1945" class="Field">GlobalCtx.telescope</a> <a id="11371" href="Fragment.Tactic.Fragment.html#10058" class="Bound">ctx</a><a id="11374" class="Symbol">)</a> <a id="11376" href="Fragment.Tactic.Fragment.html#10894" class="Bound">frexify</a>
         <a id="11393" href="Agda.Builtin.Reflection.html#7529" class="Postulate">unify</a> <a id="11399" href="Fragment.Tactic.Fragment.html#11322" class="Bound">frexify</a> <a id="11407" href="Fragment.Tactic.Fragment.html#10044" class="Bound">goal</a>
</pre></body></html>