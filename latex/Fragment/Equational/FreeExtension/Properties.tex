\begin{code}[hidden]%
\>[0]\AgdaSymbol{\{-\#}\AgdaSpace{}%
\AgdaKeyword{OPTIONS}\AgdaSpace{}%
\AgdaPragma{--without-K}\AgdaSpace{}%
\AgdaPragma{--safe}\AgdaSpace{}%
\AgdaSymbol{\#-\}}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Fragment.Equational.Theory}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{module}\AgdaSpace{}%
\AgdaModule{Fragment.Equational.FreeExtension.Properties}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{Θ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaRecord{Theory}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaKeyword{where}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Fragment.Algebra.Algebra}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaField{Σ}\AgdaSpace{}%
\AgdaBound{Θ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}Algebra\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Fragment.Algebra.Homomorphism}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaField{Σ}\AgdaSpace{}%
\AgdaBound{Θ}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Fragment.Algebra.Free}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaField{Σ}\AgdaSpace{}%
\AgdaBound{Θ}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Fragment.Equational.Model}\AgdaSpace{}%
\AgdaBound{Θ}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Fragment.Equational.Coproduct}\AgdaSpace{}%
\AgdaBound{Θ}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Fragment.Equational.FreeExtension.Base}\AgdaSpace{}%
\AgdaBound{Θ}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Fragment.Equational.FreeExtension.Synthetic}\AgdaSpace{}%
\AgdaBound{Θ}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}SynFrex\AgdaSymbol{)}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Level}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaPostulate{Level}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Data.Nat}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaDatatype{ℕ}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Data.Vec}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaDatatype{Vec}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Relation.Binary}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaRecord{Setoid}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Relation.Binary.Reasoning.Setoid}\AgdaSpace{}%
\AgdaSymbol{as}\AgdaSpace{}%
\AgdaModule{Reasoning}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{private}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaKeyword{variable}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaGeneralizable{a}\AgdaSpace{}%
\AgdaGeneralizable{ℓ₁}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaPostulate{Level}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{module}\AgdaSpace{}%
\AgdaModule{\AgdaUnderscore{}}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{(}\AgdaBound{X}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaRecord{FreeExtension}\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaSymbol{(}\AgdaBound{Y}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaRecord{FreeExtension}\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaSymbol{(}\AgdaBound{A}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaRecord{Model}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaGeneralizable{a}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaGeneralizable{ℓ₁}\AgdaSymbol{\})}\<%
\\
%
\>[2]\AgdaSymbol{(}\AgdaBound{n}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{ℕ}\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaKeyword{where}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\>[2]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{FreeExtension}\AgdaSpace{}%
\AgdaBound{X}\AgdaSpace{}%
\AgdaKeyword{renaming}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaUnderscore{}[\AgdaUnderscore{}] \AgdaSymbol{to} \AgdaUnderscore{}[\AgdaUnderscore{}]₁\AgdaSymbol{;} \AgdaUnderscore{}[\AgdaUnderscore{}]-isFrex \AgdaSymbol{to} \AgdaUnderscore{}[\AgdaUnderscore{}]₁-isFrex\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{FreeExtension}\AgdaSpace{}%
\AgdaBound{Y}\AgdaSpace{}%
\AgdaKeyword{renaming}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaUnderscore{}[\AgdaUnderscore{}] \AgdaSymbol{to} \AgdaUnderscore{}[\AgdaUnderscore{}]₂\AgdaSymbol{;} \AgdaUnderscore{}[\AgdaUnderscore{}]-isFrex \AgdaSymbol{to} \AgdaUnderscore{}[\AgdaUnderscore{}]₂-isFrex\AgdaSymbol{)}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\>[2]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{IsCoproduct}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]₁-isFrex}}\AgdaSymbol{)}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaKeyword{renaming}\AgdaSpace{}%
\AgdaSymbol{(}inl \AgdaSymbol{to} inl₁\AgdaSymbol{;} inr \AgdaSymbol{to} inr₁\AgdaSymbol{;} \AgdaUnderscore{}[\AgdaUnderscore{},\AgdaUnderscore{}] \AgdaSymbol{to} \AgdaUnderscore{}[\AgdaUnderscore{},\AgdaUnderscore{}]₁\AgdaSymbol{;} commute₁ \AgdaSymbol{to} commute₁₁\AgdaSymbol{;} commute₂ \AgdaSymbol{to} commute₂₁\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{IsCoproduct}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]₂-isFrex}}\AgdaSymbol{)}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaKeyword{renaming}\AgdaSpace{}%
\AgdaSymbol{(}inl \AgdaSymbol{to} inl₂\AgdaSymbol{;} inr \AgdaSymbol{to} inr₂\AgdaSymbol{;} \AgdaUnderscore{}[\AgdaUnderscore{},\AgdaUnderscore{}] \AgdaSymbol{to} \AgdaUnderscore{}[\AgdaUnderscore{},\AgdaUnderscore{}]₂\AgdaSymbol{;} commute₁ \AgdaSymbol{to} commute₁₂\AgdaSymbol{;} commute₂ \AgdaSymbol{to} commute₂₂\AgdaSymbol{)}\<%
\\
%
\>[4]\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{()}\<%
\end{code}

%<*tofrom>
\begin{code}%
%
\>[2]\AgdaFunction{to}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]₂}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥ₐ}}\AgdaSpace{}%
\AgdaOperator{\AgdaRecord{⟿}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]₁}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥ₐ}}\<%
\\
%
\>[2]\AgdaFunction{to}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]₁}}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaFunction{inl₁}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{,}}\AgdaSpace{}%
\AgdaFunction{inr₁}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]₂}}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\>[2]\AgdaFunction{from}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]₁}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥ₐ}}\AgdaSpace{}%
\AgdaOperator{\AgdaRecord{⟿}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]₂}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥ₐ}}\<%
\\
%
\>[2]\AgdaFunction{from}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]₂}}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaFunction{inl₂}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{,}}\AgdaSpace{}%
\AgdaFunction{inr₂}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]₁}}\<%
\end{code}
%</tofrom>

\begin{code}[hidden]%
%
\>[2]\AgdaFunction{inv}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{to}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⊙}}\AgdaSpace{}%
\AgdaFunction{from}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{≗}}\AgdaSpace{}%
\AgdaFunction{id}\<%
\\
%
\>[2]\AgdaFunction{inv}%
\>[147I]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{begin}}\<%
\\
\>[.][@{}l@{}]\<[147I]%
\>[6]\AgdaFunction{to}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⊙}}\AgdaSpace{}%
\AgdaFunction{from}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaFunction{≈⟨}\AgdaSpace{}%
\AgdaFunction{≗-sym}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{f}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]₁}}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaFunction{inl₁}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{,}}\AgdaSpace{}%
\AgdaFunction{inr₁}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]₁}}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{g}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{to}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⊙}}\AgdaSpace{}%
\AgdaFunction{from}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{universal}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{h}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{to}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⊙}}\AgdaSpace{}%
\AgdaFunction{from}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaFunction{c₁}\AgdaSpace{}%
\AgdaFunction{c₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaFunction{⟩}\<%
\\
\>[4][@{}l@{\AgdaIndent{0}}]%
\>[6]\AgdaSymbol{(}\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]₁}}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaFunction{inl₁}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{,}}\AgdaSpace{}%
\AgdaFunction{inr₁}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]₁}}\<%
\\
%
\>[4]\AgdaFunction{≈⟨}\AgdaSpace{}%
\AgdaFunction{universal}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{h}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{id}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{id-unitˡ}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{f}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{inl₁}\AgdaSymbol{\})}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{id-unitˡ}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{f}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{inr₁}\AgdaSymbol{\})}\AgdaSpace{}%
\AgdaFunction{⟩}\<%
\\
\>[4][@{}l@{\AgdaIndent{0}}]%
\>[6]\AgdaFunction{id}\<%
\\
%
\>[4]\AgdaOperator{\AgdaFunction{∎}}\<%
\\
%
\>[4]\AgdaKeyword{where}%
\>[198I]\AgdaFunction{c₁}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{to}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⊙}}\AgdaSpace{}%
\AgdaFunction{from}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⊙}}\AgdaSpace{}%
\AgdaFunction{inl₁}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{≗}}\AgdaSpace{}%
\AgdaFunction{inl₁}\<%
\\
\>[.][@{}l@{}]\<[198I]%
\>[10]\AgdaFunction{c₁}%
\>[207I]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{begin}}\<%
\\
\>[207I][@{}l@{\AgdaIndent{0}}]%
\>[14]\AgdaSymbol{(}\AgdaFunction{to}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⊙}}\AgdaSpace{}%
\AgdaFunction{from}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⊙}}\AgdaSpace{}%
\AgdaFunction{inl₁}\<%
\\
\>[10][@{}l@{\AgdaIndent{0}}]%
\>[12]\AgdaFunction{≈⟨}\AgdaSpace{}%
\AgdaFunction{⊙-assoc}\AgdaSpace{}%
\AgdaFunction{to}\AgdaSpace{}%
\AgdaFunction{from}\AgdaSpace{}%
\AgdaFunction{inl₁}\AgdaSpace{}%
\AgdaFunction{⟩}\<%
\\
\>[12][@{}l@{\AgdaIndent{0}}]%
\>[14]\AgdaFunction{to}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⊙}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{from}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⊙}}\AgdaSpace{}%
\AgdaFunction{inl₁}\AgdaSymbol{)}\<%
\\
%
\>[12]\AgdaFunction{≈⟨}\AgdaSpace{}%
\AgdaFunction{⊙-congˡ}\AgdaSpace{}%
\AgdaFunction{to}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{from}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⊙}}\AgdaSpace{}%
\AgdaFunction{inl₁}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaFunction{inl₂}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{commute₁₁}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{f}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{inl₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{g}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{inr₂}\AgdaSymbol{\})}\AgdaSpace{}%
\AgdaFunction{⟩}\<%
\\
\>[12][@{}l@{\AgdaIndent{0}}]%
\>[14]\AgdaFunction{to}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⊙}}\AgdaSpace{}%
\AgdaFunction{inl₂}\<%
\\
%
\>[12]\AgdaFunction{≈⟨}\AgdaSpace{}%
\AgdaFunction{commute₁₂}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{X}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]₁}}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{f}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{inl₁}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{g}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{inr₁}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaFunction{⟩}\<%
\\
\>[12][@{}l@{\AgdaIndent{0}}]%
\>[14]\AgdaFunction{inl₁}\<%
\\
%
\>[12]\AgdaOperator{\AgdaFunction{∎}}\<%
\\
%
\>[12]\AgdaKeyword{where}\AgdaSpace{}%
\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{Reasoning}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaFunction{∥}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥ₐ}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟿}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]₁}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥ₐ}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{/≗}}\AgdaSymbol{)}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\>[10]\AgdaFunction{c₂}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{to}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⊙}}\AgdaSpace{}%
\AgdaFunction{from}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⊙}}\AgdaSpace{}%
\AgdaFunction{inr₁}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{≗}}\AgdaSpace{}%
\AgdaFunction{inr₁}\<%
\\
%
\>[10]\AgdaFunction{c₂}%
\>[273I]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{begin}}\<%
\\
\>[273I][@{}l@{\AgdaIndent{0}}]%
\>[14]\AgdaSymbol{(}\AgdaFunction{to}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⊙}}\AgdaSpace{}%
\AgdaFunction{from}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⊙}}\AgdaSpace{}%
\AgdaFunction{inr₁}\<%
\\
\>[10][@{}l@{\AgdaIndent{0}}]%
\>[12]\AgdaFunction{≈⟨}\AgdaSpace{}%
\AgdaFunction{⊙-assoc}\AgdaSpace{}%
\AgdaFunction{to}\AgdaSpace{}%
\AgdaFunction{from}\AgdaSpace{}%
\AgdaFunction{inr₁}\AgdaSpace{}%
\AgdaFunction{⟩}\<%
\\
\>[12][@{}l@{\AgdaIndent{0}}]%
\>[14]\AgdaFunction{to}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⊙}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{from}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⊙}}\AgdaSpace{}%
\AgdaFunction{inr₁}\AgdaSymbol{)}\<%
\\
%
\>[12]\AgdaFunction{≈⟨}\AgdaSpace{}%
\AgdaFunction{⊙-congˡ}\AgdaSpace{}%
\AgdaFunction{to}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{from}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⊙}}\AgdaSpace{}%
\AgdaFunction{inr₁}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaFunction{inr₂}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{commute₂₁}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{f}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{inl₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{g}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{inr₂}\AgdaSymbol{\})}\AgdaSpace{}%
\AgdaFunction{⟩}\<%
\\
\>[12][@{}l@{\AgdaIndent{0}}]%
\>[14]\AgdaFunction{to}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⊙}}\AgdaSpace{}%
\AgdaFunction{inr₂}\<%
\\
%
\>[12]\AgdaFunction{≈⟨}\AgdaSpace{}%
\AgdaFunction{commute₂₂}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{X}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]₁}}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{f}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{inl₁}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{g}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{inr₁}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaFunction{⟩}\<%
\\
\>[12][@{}l@{\AgdaIndent{0}}]%
\>[14]\AgdaFunction{inr₁}\<%
\\
%
\>[12]\AgdaOperator{\AgdaFunction{∎}}\<%
\\
%
\>[12]\AgdaKeyword{where}\AgdaSpace{}%
\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{Reasoning}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaFunction{∥}}\AgdaSpace{}%
\AgdaFunction{J}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥ₐ}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟿}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]₁}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥ₐ}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{/≗}}\AgdaSymbol{)}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\>[10]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{Reasoning}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaFunction{∥}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]₁}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥ₐ}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{⟿}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]₁}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥ₐ}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{/≗}}\AgdaSymbol{)}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{module}\AgdaSpace{}%
\AgdaModule{\AgdaUnderscore{}}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{(}\AgdaBound{X}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaRecord{FreeExtension}\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaSymbol{(}\AgdaBound{Y}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaRecord{FreeExtension}\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaSymbol{(}\AgdaBound{A}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaRecord{Model}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaGeneralizable{a}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaGeneralizable{ℓ₁}\AgdaSymbol{\})}\<%
\\
%
\>[2]\AgdaSymbol{(}\AgdaBound{n}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{ℕ}\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaKeyword{where}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\>[2]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{FreeExtension}\AgdaSpace{}%
\AgdaBound{X}\AgdaSpace{}%
\AgdaKeyword{renaming}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaUnderscore{}[\AgdaUnderscore{}] \AgdaSymbol{to} \AgdaUnderscore{}[\AgdaUnderscore{}]₁\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{FreeExtension}\AgdaSpace{}%
\AgdaBound{Y}\AgdaSpace{}%
\AgdaKeyword{renaming}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaUnderscore{}[\AgdaUnderscore{}] \AgdaSymbol{to} \AgdaUnderscore{}[\AgdaUnderscore{}]₂\AgdaSymbol{)}\<%
\end{code}

%<*iso>
\begin{code}%
%
\>[2]\AgdaFunction{iso}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]₁}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥ₐ}}\AgdaSpace{}%
\AgdaOperator{\AgdaRecord{≃}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]₂}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥ₐ}}\<%
\end{code}
%</iso>
\begin{code}%
%
\>[2]\AgdaFunction{iso}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaKeyword{record}%
\>[382I]\AgdaSymbol{\{}\AgdaSpace{}%
\AgdaOperator{\AgdaField{\AgdaUnderscore{}⃗}}%
\>[22]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{to}\AgdaSpace{}%
\AgdaBound{Y}\AgdaSpace{}%
\AgdaBound{X}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaBound{n}\<%
\\
\>[.][@{}l@{}]\<[382I]%
\>[15]\AgdaSymbol{;}\AgdaSpace{}%
\AgdaOperator{\AgdaField{\AgdaUnderscore{}⃖}}%
\>[22]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{from}\AgdaSpace{}%
\AgdaBound{Y}\AgdaSpace{}%
\AgdaBound{X}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaBound{n}\<%
\\
%
\>[15]\AgdaSymbol{;}\AgdaSpace{}%
\AgdaField{invˡ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{inv}\AgdaSpace{}%
\AgdaBound{Y}\AgdaSpace{}%
\AgdaBound{X}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaBound{n}\<%
\\
%
\>[15]\AgdaSymbol{;}\AgdaSpace{}%
\AgdaField{invʳ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{inv}\AgdaSpace{}%
\AgdaBound{X}\AgdaSpace{}%
\AgdaBound{Y}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaBound{n}\<%
\\
%
\>[15]\AgdaSymbol{\}}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{module}\AgdaSpace{}%
\AgdaModule{\AgdaUnderscore{}}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{(}\AgdaBound{X}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaRecord{FreeExtension}\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaSymbol{(}\AgdaBound{A}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaRecord{Model}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaGeneralizable{a}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaGeneralizable{ℓ₁}\AgdaSymbol{\})}\<%
\\
%
\>[2]\AgdaSymbol{\{}\AgdaBound{n}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{ℕ}\AgdaSymbol{\}}\<%
\\
%
\>[2]\AgdaKeyword{where}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\>[2]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{FreeExtension}\AgdaSpace{}%
\AgdaBound{X}\<%
\\
%
\>[2]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{FreeExtension}\AgdaSpace{}%
\AgdaFunction{SynFrex}\AgdaSpace{}%
\AgdaKeyword{renaming}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaUnderscore{}[\AgdaUnderscore{}] \AgdaSymbol{to} \AgdaUnderscore{}[\AgdaUnderscore{}]ₛ\AgdaSymbol{;} \AgdaUnderscore{}[\AgdaUnderscore{}]-isFrex \AgdaSymbol{to} \AgdaUnderscore{}[\AgdaUnderscore{}]ₛ-isFrex\AgdaSymbol{)}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\>[2]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{IsCoproduct}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]-isFrex}}\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{IsCoproduct}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]ₛ-isFrex}}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaKeyword{renaming}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaUnderscore{}[\AgdaUnderscore{},\AgdaUnderscore{}] \AgdaSymbol{to} \AgdaUnderscore{}[\AgdaUnderscore{},\AgdaUnderscore{}]ₛ\AgdaSymbol{)}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{()}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\>[2]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{Setoid}\AgdaSpace{}%
\AgdaOperator{\AgdaField{∥}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\AgdaSpace{}%
\AgdaOperator{\AgdaField{∥/≈}}\AgdaSpace{}%
\AgdaKeyword{renaming}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaUnderscore{}≈\AgdaUnderscore{} \AgdaSymbol{to} \AgdaUnderscore{}≋\AgdaUnderscore{}\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{Setoid}\AgdaSpace{}%
\AgdaOperator{\AgdaField{∥}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaField{∥/≈}}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaUnderscore{}≈\AgdaUnderscore{}\AgdaSymbol{)}\<%
\end{code}

%<*normsyn>
\begin{code}%
%
\>[2]\AgdaFunction{norm}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{to}\AgdaSpace{}%
\AgdaBound{X}\AgdaSpace{}%
\AgdaFunction{SynFrex}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaBound{n}\<%
\\
%
\>[2]\AgdaFunction{syn}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{from}\AgdaSpace{}%
\AgdaBound{X}\AgdaSpace{}%
\AgdaFunction{SynFrex}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaBound{n}\<%
\end{code}
%</normsyn>

%<*reduce>
\begin{code}%
%
\>[2]\AgdaFunction{reduce}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{θ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Env}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥ₐ}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]ₛ}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥ₐ}}\AgdaSpace{}%
\AgdaOperator{\AgdaRecord{⟿}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥ₐ}}\<%
\\
%
\>[2]\AgdaFunction{reduce}\AgdaSpace{}%
\AgdaBound{θ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{[}}\AgdaSpace{}%
\AgdaFunction{id}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{,}}\AgdaSpace{}%
\AgdaFunction{interp}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaBound{θ}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]ₛ}}\<%
\end{code}
%</reduce>

\begin{code}[hidden]%
%
\>[2]\AgdaKeyword{module}\AgdaSpace{}%
\AgdaModule{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{Γ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Vec}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaKeyword{where}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaKeyword{private}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[4][@{}l@{\AgdaIndent{0}}]%
\>[6]\AgdaFunction{θ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Env}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥ₐ}}\AgdaSpace{}%
\AgdaBound{n}\<%
\\
%
\>[6]\AgdaFunction{θ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{env}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{A}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥ₐ}}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{Γ}\<%
\end{code}

%<*frexify>
\begin{code}%
%
\>[4]\AgdaFunction{frexify}\AgdaSpace{}%
\AgdaSymbol{:}%
\>[518I]\AgdaSymbol{∀}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{lhs}\AgdaSpace{}%
\AgdaBound{rhs}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Term}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaDatatype{BT}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∥}}\AgdaSpace{}%
\AgdaBound{n}\AgdaSymbol{)\}}\<%
\\
\>[.][@{}l@{}]\<[518I]%
\>[14]\AgdaSymbol{→}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaFunction{norm}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaBound{lhs}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{≋}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaFunction{norm}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaBound{rhs}\<%
\\
%
\>[14]\AgdaSymbol{→}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaFunction{reduce}\AgdaSpace{}%
\AgdaFunction{θ}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaBound{lhs}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{≈}}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaFunction{reduce}\AgdaSpace{}%
\AgdaFunction{θ}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaBound{rhs}\<%
\end{code}
%</frexify>
\begin{code}%
%
\>[4]\AgdaFunction{frexify}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{lhs}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{lhs}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{rhs}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{rhs}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{p}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{begin}}\<%
\\
\>[4][@{}l@{\AgdaIndent{0}}]%
\>[8]\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaFunction{reduce}\AgdaSpace{}%
\AgdaFunction{θ}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaBound{lhs}\<%
\\
\>[4][@{}l@{\AgdaIndent{0}}]%
\>[6]\AgdaFunction{≈⟨}\AgdaSpace{}%
\AgdaFunction{Setoid.sym}\AgdaSpace{}%
\AgdaOperator{\AgdaField{∥}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaField{∥/≈}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaFunction{reduce}\AgdaSpace{}%
\AgdaFunction{θ}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣-cong}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{inv}\AgdaSpace{}%
\AgdaFunction{SynFrex}\AgdaSpace{}%
\AgdaBound{X}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{x}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{lhs}\AgdaSymbol{\}))}\AgdaSpace{}%
\AgdaFunction{⟩}\<%
\\
\>[6][@{}l@{\AgdaIndent{0}}]%
\>[8]\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaFunction{reduce}\AgdaSpace{}%
\AgdaFunction{θ}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaFunction{syn}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaFunction{norm}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaBound{lhs}\AgdaSymbol{))}\<%
\\
%
\>[6]\AgdaFunction{≈⟨}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaFunction{reduce}\AgdaSpace{}%
\AgdaFunction{θ}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣-cong}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaFunction{syn}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣-cong}}\AgdaSpace{}%
\AgdaBound{p}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaFunction{⟩}\<%
\\
\>[6][@{}l@{\AgdaIndent{0}}]%
\>[8]\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaFunction{reduce}\AgdaSpace{}%
\AgdaFunction{θ}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaFunction{syn}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaFunction{norm}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaBound{rhs}\AgdaSymbol{))}\<%
\\
%
\>[6]\AgdaFunction{≈⟨}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaFunction{reduce}\AgdaSpace{}%
\AgdaFunction{θ}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣-cong}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{inv}\AgdaSpace{}%
\AgdaFunction{SynFrex}\AgdaSpace{}%
\AgdaBound{X}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaBound{n}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{x}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{rhs}\AgdaSymbol{\})}\AgdaSpace{}%
\AgdaFunction{⟩}\<%
\\
\>[6][@{}l@{\AgdaIndent{0}}]%
\>[8]\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaFunction{reduce}\AgdaSpace{}%
\AgdaFunction{θ}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{∣}}\AgdaSpace{}%
\AgdaBound{rhs}\<%
\\
%
\>[6]\AgdaOperator{\AgdaFunction{∎}}\<%
\\
%
\>[6]\AgdaKeyword{where}\AgdaSpace{}%
\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{Reasoning}\AgdaSpace{}%
\AgdaOperator{\AgdaField{∥}}\AgdaSpace{}%
\AgdaBound{A}\AgdaSpace{}%
\AgdaOperator{\AgdaField{∥/≈}}\<%
\end{code}
